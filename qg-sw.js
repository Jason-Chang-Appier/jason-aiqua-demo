/*!
 * AIQUA SDK | 3.97.1-b7ff4eb-432-production | (c) Appier
 * 
 */!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=252)}({0:function(t,e,n){t.exports=n(131)},1:function(t,e,n){"use strict";var r=n(78),o=r.getLogger("aiqua-sdk"),i=o.methodFactory;o.methodFactory=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return"error"===e[0]?function(){if(window){var t=n(35).default;t.error.apply(t,arguments)}i.apply(void 0,e).apply(void 0,arguments)}:i.apply(void 0,e)},e.a=o},11:function(t,e,n){"use strict";n.d(e,"c",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"h",function(){return p}),n.d(e,"b",function(){return f}),n.d(e,"a",function(){return d}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return m});var r=n(68),o=Object(r.UAParser)(),i=o.browser.name&&o.browser.name.toLowerCase(),a=o.os.name&&o.os.name.toLowerCase(),s=o.device.type,u=i&&i.includes("edge"),c=i&&i.includes("ie"),l=i&&i.includes("firefox"),p=i&&i.includes("safari"),f=i&&i.includes("chrome"),d=a&&a.includes("android"),h=a&&a.includes("ios"),m=s&&s.includes("mobile")},12:function(t,e,n){"use strict";var r,o,i,a,s,u=n(0),c=n.n(u),l=n(2),p=n(45),f=Object(p.openDb)("keyval-store",1,function(t){t.createObjectStore("keyval")}),d={get:(s=Object(l.a)(c.a.mark(function t(e){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f;case 2:return n=t.sent,t.abrupt("return",n.transaction("keyval").objectStore("keyval").get(e));case 4:case"end":return t.stop()}},t)})),function(t){return s.apply(this,arguments)}),set:(a=Object(l.a)(c.a.mark(function t(e,n){var r,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f;case 2:return r=t.sent,(o=r.transaction("keyval","readwrite")).objectStore("keyval").put(n,e),t.abrupt("return",o.complete);case 6:case"end":return t.stop()}},t)})),function(t,e){return a.apply(this,arguments)}),delete:(i=Object(l.a)(c.a.mark(function t(e){var n,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f;case 2:return n=t.sent,(r=n.transaction("keyval","readwrite")).objectStore("keyval").delete(e),t.abrupt("return",r.complete);case 6:case"end":return t.stop()}},t)})),function(t){return i.apply(this,arguments)}),clear:(o=Object(l.a)(c.a.mark(function t(){var e,n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f;case 2:return e=t.sent,(n=e.transaction("keyval","readwrite")).objectStore("keyval").clear(),t.abrupt("return",n.complete);case 6:case"end":return t.stop()}},t)})),function(){return o.apply(this,arguments)}),keys:(r=Object(l.a)(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f;case 2:return e=t.sent,t.abrupt("return",e.transaction("keyval").objectStore("keyval").getAllKeys());case 4:case"end":return t.stop()}},t)})),function(){return r.apply(this,arguments)})};e.a=d},13:function(t,e,n){"use strict";var r,o=function t(e){var n=Object.getOwnPropertyNames(e),r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=e[a.value];u&&"object"==typeof u&&t(u)}}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return Object.freeze(e)};n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a});var i=function(t){o(r=t)},a=function(){return r||{}}},131:function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(t,e,n){var r=l;return function(o,i){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=c(t,e,n);if("normal"===u.type){if(r=n.done?d:p,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l="suspendedStart",p="suspendedYield",f="executing",d="completed",h={};function m(){}function v(){}function g(){}var y={};y[i]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(j([])));w&&w!==n&&r.call(w,i)&&(y=w);var x=g.prototype=m.prototype=Object.create(y);function _(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(t){var e;this._invoke=function(n,o){function i(){return new Promise(function(e,i){!function e(n,o,i,a){var s=c(t[n],t,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(l).then(function(t){u.value=t,i(u)},function(t){return e("throw",t,i,a)})}a(s.arg)}(n,o,e,i)})}return e=e?e.then(i,i):i()}}function E(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=c(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:T}}function T(){return{value:e,done:!0}}return v.prototype=x.constructor=g,g.constructor=v,g[s]=v.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},_(k.prototype),k.prototype[a]=function(){return this},t.AsyncIterator=k,t.async=function(e,n,r,o){var i=new k(u(e,n,r,o));return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},_(x),x[s]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},132:function(t,e){(function(e){t.exports=e}).call(this,{})},14:function(t,e,n){"use strict";n.d(e,"g",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"h",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"f",function(){return l});var r="aiq-version",o="aiq-attribution",i="aiq-inweb-data",a="aiq-inweb-histories",s="aiq-inweb-submit-histories",u="aiq-vapid-key",c="aiq-cymp-acked",l="aiq-push-denied-timestamp"},18:function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"e",function(){return o}),n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s});var r="aiqua_attr",o="aiq_attr",i="aiqua",a="qg_cvt_",s="_qg_json"},2:function(t,e,n){"use strict";function r(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(o,i){var a=t.apply(e,n);function s(t){r(a,o,i,s,u,"next",t)}function u(t){r(a,o,i,s,u,"throw",t)}s(void 0)})}}n.d(e,"a",function(){return o})},20:function(t,e,n){"use strict";n.d(e,"b",function(){return g}),n.d(e,"f",function(){return b}),n.d(e,"e",function(){return x}),n.d(e,"d",function(){return _}),n.d(e,"g",function(){return k}),n.d(e,"c",function(){return O}),n.d(e,"a",function(){return S});var r=n(0),o=n.n(r),i=n(47),a=n(2),s=n(3),u=n(1),c=n(13),l=n(7),p=n(12),f=n(18),d=n(14),h={inWeb:["view","click"],push:["view","click"],ttl:{view:36e5,click:864e5}},m=function(){var t=Object(c.a)().attributionSetting,e=void 0===t?{}:t,n=e.push,r=e.inWeb,o=e.ttl,i=Object(s.a)({},h);return n&&(i.push=n),r&&(i.inWeb=r),o&&(i.ttl=o),i};function v(t){if(!t)return!1;var e=m(),n=e.push,r=e.inWeb,o=e.ttl;if("push"===t.src&&!n.includes(t.action))return!1;if("inWeb"===t.src&&!r.includes(t.action))return!1;var i=+new Date-t.ts;switch(t.action){case"view":return Math.max(o.view-i,0)>0;case"click":return Math.max(o.click-i,0)>0;default:return u.a.warn("Invalid attribution",t),!1}}function g(){return y.apply(this,arguments)}function y(){return(y=Object(a.a)(o.a.mark(function t(){var e,n,r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("attribution");case 2:return e=t.sent,t.next=5,p.a.get(d.a);case 5:if(n=t.sent,r=v(e)&&e,i=v(n)&&n,!(r&&i&&i.ts>r.ts)){t.next=11;break}return u.a.debug("Get attribution from legacy keyval store",n),t.abrupt("return",n);case 11:if(!r){t.next=13;break}return t.abrupt("return",r);case 13:if(!i){t.next=16;break}return u.a.debug("Get attribution from legacy keyval store",n),t.abrupt("return",i);case 16:return t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}function b(t){return w.apply(this,arguments)}function w(){return(w=Object(a.a)(o.a.mark(function t(e){var n,r,i,a,c,p;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.action,r=e.notificationId,i=e.timestamp,a=e.src,c=Object(s.a)({action:n,notificationId:r,ts:i||+new Date},a?{src:a}:{}),p=m(),"push"!==c.src||p.push.includes(c.action)){t.next=5;break}return t.abrupt("return");case 5:if("inWeb"!==c.src||p.inWeb.includes(c.action)){t.next=7;break}return t.abrupt("return");case 7:return u.a.debug("Set attribution into indexedDB",c),t.next=10,l.a.set("attribution",c);case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function x(t){var e=(t||"").split("."),n=Object(i.a)(e,3),r=n[0],o=n[1],a=n[2];return"click"!==o&&"view"!==o||!r?null:{action:o,notificationId:+r,ts:+a||+new Date}}function _(t){try{var e=JSON.parse(t||"{}");return 0===Object.keys(e).length?null:{action:e.action,notificationId:e.notificationId,ts:+e.ts||+new Date}}catch(t){return u.a.error(t,"Failed to parse attribution"),null}}function k(t){return E.apply(this,arguments)}function E(){return(E=Object(a.a)(o.a.mark(function t(e){var n,r,i,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(n=x(e.searchParams.get(f.d))||_(e.searchParams.get(f.e)))){t.next=7;break}return u.a.debug("Get attribution via url",n),r=n.action,i=n.notificationId,a=n.ts,t.next=7,b({action:r,notificationId:i,timestamp:a,src:n.src||"url"});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),u.a.error(t.t0,"Failed to set attribution via url");case 12:case"end":return t.stop()}},t,null,[[0,9]])}))).apply(this,arguments)}function O(t){return I.apply(this,arguments)}function I(){return(I=Object(a.a)(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=new URL(e,location.href),t.next=4,g();case 4:(r=t.sent)&&n.searchParams.set(f.e,JSON.stringify(r)),u.a.debug("Navigate to new page with attribution",n.toString()),window.location.assign(n.toString()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),u.a.error(t.t0,"Failed to navigate with attribution");case 13:case"end":return t.stop()}},t,null,[[0,10]])}))).apply(this,arguments)}function S(t){return j.apply(this,arguments)}function j(){return(j=Object(a.a)(o.a.mark(function t(e){var n,r,i,a,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.eventName).startsWith("notification_")&&!n.startsWith(f.b)){t.next=3;break}return t.abrupt("return",e);case 3:return t.next=5,g();case 5:if(!(r=t.sent)){t.next=10;break}return i=r.notificationId,a=r.action,u="click"===a?i:void 0,t.abrupt("return",Object(s.a)({},e,{notificationId:i,lastClkdNotId:u}));case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}},239:function(t,e,n){"use strict";var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=function(t){return"string"==typeof t&&i.test(t)},s=[],u=0;u<256;++u)s.push((u+256).toString(16).substr(1));var c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[t[e+0]]+s[t[e+1]]+s[t[e+2]]+s[t[e+3]]+"-"+s[t[e+4]]+s[t[e+5]]+"-"+s[t[e+6]]+s[t[e+7]]+"-"+s[t[e+8]]+s[t[e+9]]+"-"+s[t[e+10]]+s[t[e+11]]+s[t[e+12]]+s[t[e+13]]+s[t[e+14]]+s[t[e+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n};e.a=function(t,e,n){var i=(t=t||{}).random||(t.rng||function(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=i[a];return e}return c(i)}},252:function(t,e,n){"use strict";n.r(e);var r=n(3),o=n(49),i=n(20),a=n(60),s=["db5af2230f8ca4f18e95","db6757c58cf228c7b6f3","6105f8c85f2a3badc914","46837031b31996595f46","68c58caf69267adf3fe4","79eda9a5b2ff93a46079","e74bc58aef11677effe8","8d58b287ccbc7929d9a0","7b1c12adf5ac2b876750","2f1918f51370f3dae829","919c1af469ca50fd0df1","f0b5ac0d4403bf074e34","707cccc9ee264c44a582","dbe5165a8fd340b912e8","4c9c439615e8389a1f29","95eb9b3a156560bef027","a1f8a604216c1d7877d2","9e15113f52bcef998da2","ae5ecb63a30974627faa","ee4a1f660a8f1cfccc7c","9a18fd99e892bff0dcb7"];function u(t,e){var n={eventName:t,parameters:e,qgts:parseInt(+new Date/1e3)};Object(a.a)(n);var r=s.includes(appId)?"https://api.quantumgraph.com":"https://aiqua-sdk.c.appier.net/aiqua",o=JSON.stringify({events:[n]});fetch("".concat(r||"","/web/").concat(appId,"/data/"),{method:"POST",body:o,mode:"cors",credentials:"include",headers:new Headers({"Content-Type":"application/json",Origin:self.registration.scope})}).then(function(t){console.log("response - success",t)}).catch(function(t){console.log("response - error ",t)})}function c(t){var e=t.title,n=t.data,a=void 0===n?{}:n,s=t.notificationId,c=Object(o.a)(t,["title","data","notificationId"]);a.hasOwnProperty("sendReceipt")&&!a.sendReceipt||u("notification_received",{notificationId:s});var l=Object(r.a)({},c,{data:Object(r.a)({},a,{notificationId:s})});return self.registration.showNotification(e,l).then(function(){return Object(i.f)({action:"view",notificationId:s,src:"push"})})}self.addEventListener("push",function(t){try{var e=t.data.json();t.waitUntil(c(e))}catch(t){console.log("error in displaying notification",t)}}),self.addEventListener("notificationclick",function(t){var e=t.notification.data,n=t.action;e.drip&&delete e.drip,t.notification.close(),t.waitUntil(clients.matchAll({type:"window"}).then(function(r){var o="/";if(e.hasOwnProperty("url")&&(o=e.url),n){var a=String(n)+"_url";e.hasOwnProperty(a)&&(o=e[a])}var s=r.find(function(t){return t.url===o}),u=e.notificationId||t.notification.notificationId;return s instanceof WindowClient?(s.focus(),Object(i.f)({action:"click",notificationId:u,src:"push"})):clients.openWindow?Object(i.f)({action:"click",notificationId:u,src:"push"}).then(function(){return clients.openWindow(o)}):void 0})),e.hasOwnProperty("sendReceipt")&&!e.sendReceipt||u("notification_clicked",{notificationId:e.notificationId})}),self.addEventListener("notificationclose",function(t){var e=t.notification.data.drip;e&&c(e)})},3:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(50);function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){Object(r.a)(t,e,n[e])})}return t}},33:function(t,e,n){"use strict";n.d(e,"a",function(){return p}),n.d(e,"b",function(){return f}),n.d(e,"d",function(){return h}),n.d(e,"c",function(){return v});var r=n(0),o=n.n(r),i=n(2),a=n(1),s=n(69),u=n(7),c=n(12),l=n(14);function p(){return"3.97.1-b7ff4eb-432-production"}function f(){return d.apply(this,arguments)}function d(){return(d=Object(i.a)(o.a.mark(function t(){var e,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("sdkVersion");case 2:return e=t.sent,t.next=5,c.a.get(l.g);case 5:return n=t.sent,t.abrupt("return",e||n);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function h(t){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.set("sdkVersion",e);case 2:a.a.debug("Updated SDK version to ".concat(e));case 3:case"end":return t.stop()}},t)}))).apply(this,arguments)}function v(){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(o.a.mark(function t(){var e,n,r,i,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.a)();case 2:if(t.sent){t.next=6;break}return a.a.debug("AIQUA App SDK is not installed"),t.abrupt("return");case 6:if(e=window.aiqMobileSdk||{},n=e.getPlatform,r=e.getVersion,"function"!=typeof n||"android"!==n()||"function"!=typeof r){t.next=11;break}return i=r(),a.a.debug("Android SDK verion, v",i),t.abrupt("return");case 11:if("function"!=typeof r){t.next=16;break}return t.next=14,r();case 14:u=t.sent,a.a.debug("iOS SDK verion, v",u);case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}},35:function(t,e,n){"use strict";n.r(e);var r=n(79),o=n.n(r),i=n(33),a=[];var s=new o.a({enabled:!0,accessToken:"2d0fef287b0942329b325738eb4b10d0",captureUncaught:!0,captureUnhandledRejections:!0,verbose:!0,autoInstrument:!1,captureIp:"anonymize",maxItems:2,itemsPerMinute:1,payload:{environment:"production",client:{javascript:{source_map_enabled:!0,code_version:Object(i.a)()}}},checkIgnore:function(t,e,n){if(0===e.length)return!0;var r,o=JSON.stringify(n.body.trace.frames[0]);if(t){if(!(e[1]instanceof Error))return!0;if(e.includes("A mutation operation was attempted on a database that did not allow mutations."))return!0;if(0===n.body.trace.frames.length)return!0;if(!o.includes("aiqua.js"))return!0}return r=o,!!a.includes(r)||(a.push(r),!1)}});e.default=s},37:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(2);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=n(45),u=n(1),c=Object(s.openDb)("aiqua",3,function(t){t.oldVersion<2&&(t.objectStoreNames.contains("general")||(t.createObjectStore("general"),u.a.debug('[SDK iDB] Created "general" object store')),t.objectStoreNames.contains("web_push")||(t.createObjectStore("web_push"),u.a.debug('[SDK iDB] Created "web_push" object store'))),t.oldVersion<3&&(t.createObjectStore("in_web"),u.a.debug('[SDK iDB] Created "in_web" object store'))}),l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._dbPromise=c,this._storeName=e}var e,n,r,s,u,l,p,f,d;return e=t,(n=[{key:"get",value:(d=Object(i.a)(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._dbPromise;case 2:return n=t.sent,t.abrupt("return",n.transaction(this._storeName).objectStore(this._storeName).get(e));case 4:case"end":return t.stop()}},t,this)})),function(t){return d.apply(this,arguments)})},{key:"set",value:(f=Object(i.a)(o.a.mark(function t(e,n){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._dbPromise;case 2:return r=t.sent,(i=r.transaction(this._storeName,"readwrite")).objectStore(this._storeName).put(n,e),t.abrupt("return",i.complete);case 6:case"end":return t.stop()}},t,this)})),function(t,e){return f.apply(this,arguments)})},{key:"del",value:(p=Object(i.a)(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._dbPromise;case 2:return n=t.sent,(r=n.transaction(this._storeName,"readwrite")).objectStore(this._storeName).delete(e),t.abrupt("return",r.complete);case 6:case"end":return t.stop()}},t,this)})),function(t){return p.apply(this,arguments)})},{key:"clear",value:(l=Object(i.a)(o.a.mark(function t(){var e,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._dbPromise;case 2:return e=t.sent,(n=e.transaction(this._storeName,"readwrite")).objectStore(this._storeName).clear(),t.abrupt("return",n.complete);case 6:case"end":return t.stop()}},t,this)})),function(){return l.apply(this,arguments)})},{key:"keys",value:(u=Object(i.a)(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._dbPromise;case 2:return e=t.sent,t.abrupt("return",e.transaction(this._storeName).objectStore(this._storeName).getAllKeys());case 4:case"end":return t.stop()}},t,this)})),function(){return u.apply(this,arguments)})},{key:"values",value:(s=Object(i.a)(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._dbPromise;case 2:return e=t.sent,t.abrupt("return",e.transaction(this._storeName).objectStore(this._storeName).getAll());case 4:case"end":return t.stop()}},t,this)})),function(){return s.apply(this,arguments)})}])&&a(e.prototype,n),r&&a(e,r),t}();e.a=l},45:function(t,e,n){!function(t){"use strict";function e(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function n(t,n,r){var o,i=new Promise(function(i,a){e(o=t[n].apply(t,r)).then(i,a)});return i.request=o,i}function r(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function o(t,e,r,o){o.forEach(function(o){o in r.prototype&&(t.prototype[o]=function(){return n(this[e],o,arguments)})})}function i(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function a(t,e,r,o){o.forEach(function(o){o in r.prototype&&(t.prototype[o]=function(){return t=this[e],(r=n(t,o,arguments)).then(function(t){if(t)return new u(t,r.request)});var t,r})})}function s(t){this._index=t}function u(t,e){this._cursor=t,this._request=e}function c(t){this._store=t}function l(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new l(n)}function f(t){this._db=t}r(s,"_index",["name","keyPath","multiEntry","unique"]),o(s,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),a(s,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(u,"_cursor",["direction","key","primaryKey","value"]),o(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(u.prototype[t]=function(){var n=this,r=arguments;return Promise.resolve().then(function(){return n._cursor[t].apply(n._cursor,r),e(n._request).then(function(t){if(t)return new u(t,n._request)})})})}),c.prototype.createIndex=function(){return new s(this._store.createIndex.apply(this._store,arguments))},c.prototype.index=function(){return new s(this._store.index.apply(this._store,arguments))},r(c,"_store",["name","keyPath","indexNames","autoIncrement"]),o(c,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),a(c,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),i(c,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new c(this._tx.objectStore.apply(this._tx,arguments))},r(l,"_tx",["objectStoreNames","mode"]),i(l,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new c(this._db.createObjectStore.apply(this._db,arguments))},r(p,"_db",["name","version","objectStoreNames"]),i(p,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},r(f,"_db",["name","version","objectStoreNames"]),i(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[c,s].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e,n=(e=arguments,Array.prototype.slice.call(e)),r=n[n.length-1],o=this._store||this._index,i=o[t].apply(o,n.slice(0,-1));i.onsuccess=function(){r(i.result)}})})}),[s,c].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(o){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():o(r)):o(r)})})})}),t.openDb=function(t,e,r){var o=n(indexedDB,"open",[t,e]),i=o.request;return i&&(i.onupgradeneeded=function(t){r&&r(new p(i.result,t.oldVersion,i.transaction))}),o.then(function(t){return new f(t)})},t.deleteDb=function(t){return n(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},47:function(t,e,n){"use strict";var r=n(66);var o=n(67);function i(t,e){return Object(r.a)(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||Object(o.a)()}n.d(e,"a",function(){return i})},49:function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}n.d(e,"a",function(){return r})},50:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return r})},60:function(t,e,n){"use strict";n.d(e,"c",function(){return g}),n.d(e,"a",function(){return b}),n.d(e,"b",function(){return x});var r,o=n(3),i=n(0),a=n.n(i),s=n(2),u=n(239),c=n(1),l=n(11),p="aiq-hasPurgeIdbUserEvents",f=86400,d="previousEvents",h="events",m={eventName:"eventName",timestamp:"qgts",eventNameTimestamp:"eventNameTimestamp"};function v(){c.a.debug("openIDB");var t=indexedDB.open(d,1),e=new Promise(function(e,n){var r=function(){t.removeEventListener("success",o),t.removeEventListener("error",i)},o=function(){c.a.debug("openIDB success",t.result),e(t.result),r()},i=function(){c.a.error(t.error,"openIDB error"),n(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",i)});return t.addEventListener("upgradeneeded",function(t){c.a.debug("openIDB upgradeneeded",t);var e=t.target.result.createObjectStore(h,{keyPath:"uuid"});e.createIndex(m.eventName,"eventName"),e.createIndex(m.timestamp,"qgts"),e.createIndex(m.eventNameTimestamp,["eventName","qgts"])}),e}function g(){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(a.a.mark(function t(){var e,n,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=+new Date/1e3-f,!sessionStorage.getItem(p)){t.next=3;break}return t.abrupt("return");case 3:if(c.a.debug("Purge events before ".concat(e," from idb")),t.t0=r,t.t0){t.next=9;break}return t.next=8,v();case 8:t.t0=t.sent;case 9:r=t.t0,n=IDBKeyRange.bound(0,e,!0),o=r.transaction(h,"readwrite").objectStore(h),o.index(m.timestamp).openCursor(n).onsuccess=function(t){var e=t.target.result;if(e){var n=e.value;o.delete(n.uuid),e.continue()}else c.a.debug("No more entries")},sessionStorage.setItem(p,"true");case 15:case"end":return t.stop()}},t)}))).apply(this,arguments)}function b(t){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c.a.debug("Add user-event into idb",e),t.t0=r,t.t0){t.next=6;break}return t.next=5,v();case 5:t.t0=t.sent;case 6:r=t.t0;try{r.transaction(h,"readwrite").objectStore(h).add(Object(o.a)({uuid:Object(u.a)()},e))}catch(t){c.a.warn("Failed to add user-event",e,"error",t)}case 8:case"end":return t.stop()}},t)}))).apply(this,arguments)}function x(t,e,n,r){return _.apply(this,arguments)}function _(){return(_=Object(s.a)(a.a.mark(function t(e,n,o,i){var s,u,p,f,d,g;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c.a.debug("Get events from idb",e,"from",n,"to",o),s=[],t.t0=r,t.t0){t.next=7;break}return t.next=6,v();case 6:t.t0=t.sent;case 7:return r=t.t0,u=r.transaction(h),p=new Promise(function(t,e){var n=function(){u.removeEventListener("complete",r),u.removeEventListener("error",o)},r=function(e){t(s),n()},o=function(t){c.a.error(u.error,"transaction.onerror, event: ".concat(t)),e(u.error),n()};u.addEventListener("complete",r),u.addEventListener("error",o)}),f=!(l.e||l.c),d=f?IDBKeyRange.bound([e,n],[e,o]):IDBKeyRange.only(e),g=f?m.eventNameTimestamp:m.eventName,u.objectStore(h).index(g).openCursor(d).onsuccess=function(t){var e=t.target.result;if(e){var r=e.value;c.a.debug("Event:",e.key,r),r.qgts>=n&&r.qgts<=o&&i(r)&&s.push(r),e.continue()}else c.a.debug("No more entries")},t.abrupt("return",p);case 15:case"end":return t.stop()}},t)}))).apply(this,arguments)}},66:function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,"a",function(){return r})},67:function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(e,"a",function(){return r})},68:function(t,e,n){var r;!function(o,i){"use strict";var a="model",s="name",u="type",c="vendor",l="version",p="mobile",f="tablet",d={extend:function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2==0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"==typeof t?t.split(".")[0]:void 0}},h={rgx:function(){for(var t,e,n,r,o,i,a,s=0,u=arguments;s<u.length&&!i;){var c=u[s],l=u[s+1];if(void 0===t)for(r in t={},l)l.hasOwnProperty(r)&&("object"==typeof(o=l[r])?t[o[0]]=void 0:t[o]=void 0);for(e=n=0;e<c.length&&!i;)if(i=c[e++].exec(this.getUA()))for(r=0;r<l.length;r++)a=i[++n],"object"==typeof(o=l[r])&&o.length>0?2==o.length?"function"==typeof o[1]?t[o[0]]=o[1].call(this,a):t[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?t[o[0]]=a?a.replace(o[1],o[2]):void 0:t[o[0]]=a?o[1].call(this,a,o[2]):void 0:4==o.length&&(t[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):void 0):t[o]=a||void 0;s+=2}return t},str:function(t,e){for(var n in e)if("object"==typeof e[n]&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(d.has(e[n][r],t))return"?"===n?void 0:n}else if(d.has(e[n],t))return"?"===n?void 0:n;return t}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},v={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,l],[/(OPiOS)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],l],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],l],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[s,l],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[s,"IE"],l],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[s,"Edge"],l],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],l],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[s,l],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],l],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],l],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],l],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[l,[s,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[l,[s,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[l,[s,"Facebook"]],[/fxios\/([\w\.-]+)/i],[l,[s,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[l,[s,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[l,s],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[l,h.str,m.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[s,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",d.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",d.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",d.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[a,c,[u,f]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[c,"Apple"],[u,f]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[c,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,a,[u,f]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[a,[c,"Amazon"],[u,f]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[a,h.str,m.device.amazon.model],[c,"Amazon"],[u,p]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,c,[u,p]],[/\((ip[honed|\s\w*]+);/i],[a,[c,"Apple"],[u,p]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,a,[u,p]],[/\(bb10;\s(\w+)/i],[a,[c,"BlackBerry"],[u,p]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[a,[c,"Asus"],[u,f]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[a,"Xperia Tablet"],[u,f]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[c,"Sony"],[a,"Xperia Phone"],[u,p]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,a,[u,"console"]],[/android.+;\s(shield)\sbuild/i],[a,[c,"Nvidia"],[u,"console"]],[/(playstation\s[34portablevi]+)/i],[a,[c,"Sony"],[u,"console"]],[/(sprint\s(\w+))/i],[[c,h.str,m.device.sprint.vendor],[a,h.str,m.device.sprint.model],[u,p]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[c,a,[u,f]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[c,[a,/_/g," "],[u,p]],[/(nexus\s9)/i],[a,[c,"HTC"],[u,f]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[c,"Microsoft"],[u,"console"]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[c,"Microsoft"],[u,p]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],[a,[c,"Motorola"],[u,p]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[c,"Motorola"],[u,f]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],a,[u,f]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[c,"Samsung"],a,[u,p]],[/(samsung);smarttv/i],[c,a,[u,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[a,[c,"Sharp"],[u,"smarttv"]],[/sie-(\w+)*/i],[a,[c,"Siemens"],[u,p]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[c,"Nokia"],a,[u,p]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[a,[c,"Acer"],[u,f]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],a,[u,f]],[/(lg) netcast\.tv/i],[c,a,[u,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[a,[c,"LG"],[u,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[c,"Lenovo"],[u,f]],[/linux;.+((jolla));/i],[c,a,[u,p]],[/((pebble))app\/[\d\.]+\s/i],[c,a,[u,"wearable"]],[/android.+;\s(glass)\s\d/i],[a,[c,"Google"],[u,"wearable"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[a,/_/g," "],[c,"Xiaomi"],[u,p]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[[u,d.lowerize],c,a]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[s,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,l],[/rv\:([\w\.]+).*(gecko)/i],[l,s]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[s,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[l,h.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[l,h.str,m.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[s,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[s,"Symbian"],l],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],l],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[s,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],l],[/(sunos)\s?([\w\.]+\d)*/i],[[s,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[s,l],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[s,"iOS"],[l,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[l,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[s,l]]},g=function t(e,n){if(!(this instanceof t))return new t(e,n).getResult();var r=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),i=n?d.extend(v,n):v;return this.getBrowser=function(){var t=h.rgx.apply(this,i.browser);return t.major=d.major(t.version),t},this.getCPU=function(){return h.rgx.apply(this,i.cpu)},this.getDevice=function(){return h.rgx.apply(this,i.device)},this.getEngine=function(){return h.rgx.apply(this,i.engine)},this.getOS=function(){return h.rgx.apply(this,i.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(t){return r=t,this},this};g.VERSION="0.7.10",g.BROWSER={NAME:s,MAJOR:"major",VERSION:l},g.CPU={ARCHITECTURE:"architecture"},g.DEVICE={MODEL:a,VENDOR:c,TYPE:u,CONSOLE:"console",MOBILE:p,SMARTTV:"smarttv",TABLET:f,WEARABLE:"wearable",EMBEDDED:"embedded"},g.ENGINE={NAME:s,VERSION:l},g.OS={NAME:s,VERSION:l},void 0!==e?(void 0!==t&&t.exports&&(e=t.exports=g),e.UAParser=g):n(132)?void 0===(r=function(){return g}.apply(e,[]))||(t.exports=r):o.UAParser=g;var y=o.jQuery||o.Zepto;if(void 0!==y){var b=new g;y.ua=b.getResult(),y.ua.get=function(){return b.getUA()},y.ua.set=function(t){b.setUA(t);var e=b.getResult();for(var n in e)y.ua[n]=e[n]}}}("object"==typeof window?window:this)},69:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(2),a=function(){var t=Object(i.a)(o.a.mark(function t(){var e,n,r,i,a,s,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=window,n=e.aiqMobileSdk,r=e.ReactNativeWebView,i=window.QGSettings,!r){t.next=9;break}return s=function t(e){var n=e.data;window.removeEventListener("message",t),"function"==typeof a&&a("aiq_ack"===n)},t.next=6,Promise.race([new Promise(function(t){a=t,r.postMessage(JSON.stringify({type:"handshake",source:"aiq"})),window.addEventListener("message",s,{once:!0})}),new Promise(function(t){return setTimeout(function(){window.removeEventListener("message",s),t(!1)},Math.max(+i.reactNativeHandshakeTimeout,200)||200)})]);case 6:if(!(u=t.sent)){t.next=9;break}return t.abrupt("return",u);case 9:return t.abrupt("return",n&&n.logEvent);case 10:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();e.a=a},7:function(t,e,n){"use strict";var r=new(n(37).a)("general");e.a=r},78:function(t,e,n){var r,o;!function(i,a){"use strict";void 0===(o="function"==typeof(r=function(){var t=function(){},e="undefined",n=["trace","debug","info","warn","error"];function r(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function o(e,r){for(var o=0;o<n.length;o++){var i=n[o];this[i]=o<e?t:this.methodFactory(i,e,r)}this.log=this.debug}function i(n,i,a){return function(n){"debug"===n&&(n="log");return typeof console!==e&&(void 0!==console[n]?r(console,n):void 0!==console.log?r(console,"log"):t)}(n)||function(t,n,r){return function(){typeof console!==e&&(o.call(this,n,r),this[t].apply(this,arguments))}}.apply(this,arguments)}function a(t,r,a){var s,u=this,c="loglevel";function l(){var t;if(typeof window!==e){try{t=window.localStorage[c]}catch(t){}if(typeof t===e)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(c)+"=");-1!==r&&(t=/^([^;]+)/.exec(n.slice(r))[1])}catch(t){}return void 0===u.levels[t]&&(t=void 0),t}}t&&(c+=":"+t),u.name=t,u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=a||i,u.getLevel=function(){return s},u.setLevel=function(r,i){if("string"==typeof r&&void 0!==u.levels[r.toUpperCase()]&&(r=u.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=u.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(s=r,!1!==i&&function(t){var r=(n[t]||"silent").toUpperCase();if(typeof window===e)return;try{return void(window.localStorage[c]=r)}catch(t){}try{window.document.cookie=encodeURIComponent(c)+"="+r+";"}catch(t){}}(r),o.call(u,r,t),typeof console===e&&r<u.levels.SILENT)return"No console available for logging"},u.setDefaultLevel=function(t){l()||u.setLevel(t,!1)},u.enableAll=function(t){u.setLevel(u.levels.TRACE,t)},u.disableAll=function(t){u.setLevel(u.levels.SILENT,t)};var p=l();null==p&&(p=null==r?"WARN":r),u.setLevel(p,!1)}var s=new a,u={};s.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=u[t];return e||(e=u[t]=new a(t,s.getLevel(),s.methodFactory)),e};var c=typeof window!==e?window.log:void 0;return s.noConflict=function(){return typeof window!==e&&window.log===s&&(window.log=c),s},s.getLoggers=function(){return u},s})?r.call(e,n,e,t):r)||(t.exports=o)}()},79:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";var r=n(10),o={},i=!1;function a(t,e){return e===s(t)}function s(t){var e=typeof t;return"object"!==e?e:t?t instanceof Error?"error":{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function u(t){return a(t,"function")}function c(t){var e=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),n=RegExp("^"+e+"$");return l(t)&&n.test(t)}function l(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function p(t,e,n){var r,o,i,s=a(t,"object"),u=a(t,"array"),c=[];if(s&&-1!==n.indexOf(t))return t;if(n.push(t),s)for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&c.push(r);else if(u)for(i=0;i<t.length;++i)c.push(i);var l=s?{}:[],p=!0;for(i=0;i<c.length;++i)o=t[r=c[i]],l[r]=e(r,o,n),p=p&&l[r]===t[r];return 0==c.length||p?t:l}function f(){var t=b();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:7&n|8).toString(16)})}i||(i=!0,a(JSON,"undefined")||(c(JSON.stringify)&&(o.stringify=JSON.stringify),c(JSON.parse)&&(o.parse=JSON.parse)),u(o.stringify)&&u(o.parse)||n(11)(o));var d={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function h(t,e){var n,r;try{n=o.stringify(t)}catch(o){if(e&&u(e))try{n=e(t)}catch(t){r=t}else r=o}return{error:r,value:n}}function m(t,e){return function(n,r){try{e(n,r)}catch(e){t.error(e)}}}var v=["log","network","dom","navigation","error","manual"],g=["critical","error","warning","info","debug"];function y(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1}function b(){return Date.now?+Date.now():+new Date}t.exports={addParamsAndAccessTokenToPath:function(t,e,n){(n=n||{}).access_token=t;var r,o=[];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&o.push([r,n[r]].join("="));var i="?"+o.sort().join("&");(e=e||{}).path=e.path||"";var a,s=e.path.indexOf("?"),u=e.path.indexOf("#");-1!==s&&(-1===u||u>s)?(a=e.path,e.path=a.substring(0,s)+i+"&"+a.substring(s+1)):-1!==u?(a=e.path,e.path=a.substring(0,u)+i+a.substring(u)):e.path=e.path+i},createItem:function(t,e,n,o,i){for(var a,u,c,l,p,d,h=[],v=0,g=t.length;v<g;++v){var y=s(d=t[v]);switch(y){case"undefined":break;case"string":a?h.push(d):a=d;break;case"function":l=m(e,d);break;case"date":h.push(d);break;case"error":case"domexception":case"exception":u?h.push(d):u=d;break;case"object":case"array":if(d instanceof Error||"undefined"!=typeof DOMException&&d instanceof DOMException){u?h.push(d):u=d;break}if(o&&"object"===y&&!p){for(var w=0,x=o.length;w<x;++w)if(void 0!==d[o[w]]){p=d;break}if(p)break}c?h.push(d):c=d;break;default:if(d instanceof Error||"undefined"!=typeof DOMException&&d instanceof DOMException){u?h.push(d):u=d;break}h.push(d)}}h.length>0&&((c=r(c)).extraArgs=h);var _={message:a,err:u,custom:c,timestamp:b(),callback:l,notifier:n,diagnostic:{},uuid:f()};return function(t,e){e&&void 0!==e.level&&(t.level=e.level,delete e.level),e&&void 0!==e.skipFrames&&(t.skipFrames=e.skipFrames,delete e.skipFrames)}(_,c),o&&p&&(_.request=p),i&&(_.lambdaContext=i),_._originalArgs=t,_},createTelemetryEvent:function(t){for(var e,n,r,o,i=0,a=t.length;i<a;++i)switch(s(o=t[i])){case"string":!e&&y(v,o)?e=o:!r&&y(g,o)&&(r=o);break;case"object":n=o}return{type:e||"manual",metadata:n||{},level:r}},filterIp:function(t,e){if(t&&t.user_ip&&!0!==e){var n=t.user_ip;if(e)try{var r;if(-1!==n.indexOf("."))(r=n.split(".")).pop(),r.push("0"),n=r.join(".");else if(-1!==n.indexOf(":")){if((r=n.split(":")).length>2){var o=r.slice(0,3),i=o[2].indexOf("/");-1!==i&&(o[2]=o[2].substring(0,i)),n=o.concat("0000:0000:0000:0000:0000").join(":")}}else n=null}catch(t){n=null}else n=null;t.user_ip=n}},formatArgsAsString:function(t){var e,n,r,o=[];for(e=0,n=t.length;e<n;++e){switch(s(r=t[e])){case"object":(r=(r=h(r)).error||r.value).length>500&&(r=r.substr(0,497)+"...");break;case"null":r="null";break;case"undefined":r="undefined";break;case"symbol":r=r.toString()}o.push(r)}return o.join(" ")},formatUrl:function(t,e){if(!(e=e||t.protocol)&&t.port&&(80===t.port?e="http:":443===t.port&&(e="https:")),e=e||"https:",!t.hostname)return null;var n=e+"//"+t.hostname;return t.port&&(n=n+":"+t.port),t.path&&(n+=t.path),n},get:function(t,e){if(t){var n=e.split("."),r=t;try{for(var o=0,i=n.length;o<i;++o)r=r[n[o]]}catch(t){r=void 0}return r}},handleOptions:function(t,e,n){var o=r(t,e,n);return!e||e.overwriteScrubFields||e.scrubFields&&(o.scrubFields=(t.scrubFields||[]).concat(e.scrubFields)),o},isError:function(t){return a(t,"error")||a(t,"exception")},isFunction:u,isIterable:function(t){var e=s(t);return"object"===e||"array"===e},isNativeFunction:c,isType:a,isObject:l,isString:function(t){return"string"==typeof t||t instanceof String},jsonParse:function(t){var e,n;try{e=o.parse(t)}catch(t){n=t}return{error:n,value:e}},LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},makeUnhandledStackInfo:function(t,e,n,r,o,i,a,s){var u={url:e||"",line:n,column:r};u.func=s.guessFunctionName(u.url,u.line),u.context=s.gatherContext(u.url,u.line);var c=document&&document.location&&document.location.href,l=window&&window.navigator&&window.navigator.userAgent;return{mode:i,message:o?String(o):t||a,url:c,stack:[u],useragent:l}},merge:r,now:b,redact:function(){return"********"},sanitizeUrl:function(t){var e=function(t){if(a(t,"string")){for(var e=d,n=e.parser[e.strictMode?"strict":"loose"].exec(t),r={},o=0,i=e.key.length;o<i;++o)r[e.key[o]]=n[o]||"";return r[e.q.name]={},r[e.key[12]].replace(e.q.parser,function(t,n,o){n&&(r[e.q.name][n]=o)}),r}}(t);return e?(""===e.anchor&&(e.source=e.source.replace("#","")),t=e.source.replace("?"+e.query,"")):"(unknown)"},scrub:function(t,e){var n=function(t){for(var e,n=[],r=0;r<t.length;++r)e="^\\[?(%5[bB])?"+t[r]+"\\[?(%5[bB])?\\]?(%5[dD])?$",n.push(new RegExp(e,"i"));return n}(e=e||[]),r=function(t){for(var e,n=[],r=0;r<t.length;++r)e="\\[?(%5[bB])?"+t[r]+"\\[?(%5[bB])?\\]?(%5[dD])?",n.push(new RegExp("("+e+"=)([^&\\n]+)","igm"));return n}(e);function o(t,e){return e+"********"}return p(t,function t(e,i,s){var u=function(t,e){var r;for(r=0;r<n.length;++r)if(n[r].test(t)){e="********";break}return e}(e,i);return u===i?a(i,"object")||a(i,"array")?p(i,t,s):function(t){var e;if(a(t,"string"))for(e=0;e<r.length;++e)t=t.replace(r[e],o);return t}(u):u},[])},set:function(t,e,n){if(t){var r=e.split("."),o=r.length;if(!(o<1))if(1!==o)try{for(var i=t[r[0]]||{},a=i,s=1;s<o-1;++s)i[r[s]]=i[r[s]]||{},i=i[r[s]];i[r[o-1]]=n,t[r[0]]=a}catch(t){return}else t[r[0]]=n}},stringify:h,maxByteSize:function(t){for(var e=0,n=t.length,r=0;r<n;r++){var o=t.charCodeAt(r);o<128?e+=1:o<2048?e+=2:o<65536&&(e+=3)}return e},traverse:p,typeName:s,uuid4:f}},function(t,e,n){"use strict";n(17);var r=n(18),o=n(0);t.exports={error:function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("Rollbar:"),r.ieVersion()<=8?console.error(o.formatArgsAsString(t)):console.error.apply(console,t)},info:function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("Rollbar:"),r.ieVersion()<=8?console.info(o.formatArgsAsString(t)):console.info.apply(console,t)},log:function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("Rollbar:"),r.ieVersion()<=8?console.log(o.formatArgsAsString(t)):console.log.apply(console,t)}}},function(t,e,n){"use strict";var r=n(0);function o(t,e){return[t,r.stringify(t,e)]}function i(t,e){var n=t.length;return n>2*e?t.slice(0,e).concat(t.slice(n-e)):t}function a(t,e,n){n=void 0===n?30:n;var o,a=t.data.body;if(a.trace_chain)for(var s=a.trace_chain,u=0;u<s.length;u++)o=i(o=s[u].frames,n),s[u].frames=o;else a.trace&&(o=i(o=a.trace.frames,n),a.trace.frames=o);return[t,r.stringify(t,e)]}function s(t,e){return e&&e.length>t?e.slice(0,t-3).concat("..."):e}function u(t,e,n){return[e=r.traverse(e,function e(n,o,i){switch(r.typeName(o)){case"string":return s(t,o);case"object":case"array":return r.traverse(o,e,i);default:return o}},[]),r.stringify(e,n)]}function c(t){return t.exception&&(delete t.exception.description,t.exception.message=s(255,t.exception.message)),t.frames=i(t.frames,1),t}function l(t,e){var n=t.data.body;if(n.trace_chain)for(var o=n.trace_chain,i=0;i<o.length;i++)o[i]=c(o[i]);else n.trace&&(n.trace=c(n.trace));return[t,r.stringify(t,e)]}function p(t,e){return r.maxByteSize(t)>e}t.exports={truncate:function(t,e,n){n=void 0===n?524288:n;for(var r,i,s,c=[o,a,u.bind(null,1024),u.bind(null,512),u.bind(null,256),l];r=c.shift();)if(t=(i=r(t,e))[0],(s=i[1]).error||!p(s.value,n))return s;return s},raw:o,truncateFrames:a,truncateStrings:u,maybeTruncateValue:s}},function(t,e,n){"use strict";t.exports={parse:function(t){var e,n,r={protocol:null,auth:null,host:null,path:null,hash:null,href:t,hostname:null,port:null,pathname:null,search:null,query:null};if(-1!==(e=t.indexOf("//"))?(r.protocol=t.substring(0,e),n=e+2):n=0,-1!==(e=t.indexOf("@",n))&&(r.auth=t.substring(n,e),n=e+1),-1===(e=t.indexOf("/",n))){if(-1===(e=t.indexOf("?",n)))return-1===(e=t.indexOf("#",n))?r.host=t.substring(n):(r.host=t.substring(n,e),r.hash=t.substring(e)),r.hostname=r.host.split(":")[0],r.port=r.host.split(":")[1],r.port&&(r.port=parseInt(r.port,10)),r;r.host=t.substring(n,e),r.hostname=r.host.split(":")[0],r.port=r.host.split(":")[1],r.port&&(r.port=parseInt(r.port,10)),n=e}else r.host=t.substring(n,e),r.hostname=r.host.split(":")[0],r.port=r.host.split(":")[1],r.port&&(r.port=parseInt(r.port,10)),n=e;if(-1===(e=t.indexOf("#",n))?r.path=t.substring(n):(r.path=t.substring(n,e),r.hash=t.substring(e)),r.path){var o=r.path.split("?");r.pathname=o[0],r.query=o[1],r.search=r.query?"?"+r.query:null}return r}}},function(t,e,n){"use strict";var r=n(22),o=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function i(t){var e={};return e._stackFrame=t,e.url=t.fileName,e.line=t.lineNumber,e.func=t.functionName,e.column=t.columnNumber,e.args=t.args,e.context=null,e}function a(t,e){return{stack:function(){var n=[];e=e||0;try{n=r.parse(t)}catch(t){n=[]}for(var o=[],a=e;a<n.length;a++)o.push(new i(n[a]));return o}(),message:t.message,name:function(t){var e=t.name&&t.name.length&&t.name,n=t.constructor.name&&t.constructor.name.length&&t.constructor.name;return e&&n?"Error"===e?n:e:e||n}(t),rawStack:t.stack,rawException:t}}t.exports={guessFunctionName:function(){return"?"},guessErrorClass:function(t){if(!t||!t.match)return["Unknown error. There was no error message to display.",""];var e=t.match(o),n="(unknown)";return e&&(n=e[e.length-1],t=(t=t.replace((e[e.length-2]||"")+n+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[n,t]},gatherContext:function(){return null},parse:function(t,e){var n=t;if(n.nested){for(var r=[];n;)r.push(new a(n,e)),n=n.nested,e=0;return r[0].traceChain=r,r[0]}return new a(n,e)},Stack:a,Frame:i}},function(t,e,n){t.exports=n(6)},function(t,e,n){"use strict";var r=n(7),o="undefined"!=typeof window&&window._rollbarConfig,i=o&&o.globalAlias||"Rollbar",a="undefined"!=typeof window&&window[i]&&"function"==typeof window[i].shimId&&void 0!==window[i].shimId();if("undefined"==typeof window||window._rollbarStartTime||(window._rollbarStartTime=(new Date).getTime()),!a&&o){var s=new r(o);window[i]=s}else"undefined"!=typeof window?(window.rollbar=r,window._rollbarDidLoad=!0):"undefined"!=typeof self&&(self.rollbar=r,self._rollbarDidLoad=!0);t.exports=r},function(t,e,n){"use strict";var r=n(8),o=n(0),i=n(15),a=n(1),s=n(19),u=n(20),c=n(3),l=n(21),p=n(24),f=n(25),d=n(26),h=n(4),m=n(27);function v(t,e){this.options=o.handleOptions(x,t),this.options._configuredOptions=t;var n=new i(this.options,u,c);this.client=e||new r(this.options,n,a,"browser");var s=w(),h="undefined"!=typeof document&&document;this.isChrome=s.chrome&&s.chrome.runtime,this.anonymousErrorsPending=0,function(t,e){t.addTransform(l.handleDomException).addTransform(l.handleItemWithError).addTransform(l.ensureItemHasSomethingToSay).addTransform(l.addBaseInfo).addTransform(l.addRequestInfo(e)).addTransform(l.addClientInfo(e)).addTransform(l.addPluginInfo(e)).addTransform(l.addBody).addTransform(p.addMessageWithError).addTransform(p.addTelemetryData).addTransform(p.addConfigToPayload).addTransform(l.scrubPayload).addTransform(p.userTransform(a)).addTransform(p.addConfiguredOptions).addTransform(p.addDiagnosticKeys).addTransform(p.itemToPayload)}(this.client.notifier,s),this.client.queue.addPredicate(d.checkLevel).addPredicate(f.checkIgnore).addPredicate(d.userCheckIgnore(a)).addPredicate(d.urlIsNotBlacklisted(a)).addPredicate(d.urlIsWhitelisted(a)).addPredicate(d.messageIsIgnored(a)),this.setupUnhandledCapture(),this.instrumenter=new m(this.options,this.client.telemeter,this,s,h),this.instrumenter.instrument()}var g=null;function y(t){var e="Rollbar is not initialized";a.error(e),t&&t(new Error(e))}function b(t){for(var e=0,n=t.length;e<n;++e)if(o.isFunction(t[e]))return t[e]}function w(){return"undefined"!=typeof window&&window||"undefined"!=typeof self&&self}v.init=function(t,e){return g?g.global(t).configure(t):g=new v(t,e)},v.prototype.global=function(t){return this.client.global(t),this},v.global=function(t){if(g)return g.global(t);y()},v.prototype.configure=function(t,e){var n=this.options,r={};return e&&(r={payload:e}),this.options=o.handleOptions(n,t,r),this.options._configuredOptions=o.handleOptions(n._configuredOptions,t,r),this.client.configure(this.options,e),this.instrumenter.configure(this.options),this.setupUnhandledCapture(),this},v.configure=function(t,e){if(g)return g.configure(t,e);y()},v.prototype.lastError=function(){return this.client.lastError},v.lastError=function(){if(g)return g.lastError();y()},v.prototype.log=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.log(t),{uuid:e}},v.log=function(){if(g)return g.log.apply(g,arguments);var t=b(arguments);y(t)},v.prototype.debug=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.debug(t),{uuid:e}},v.debug=function(){if(g)return g.debug.apply(g,arguments);var t=b(arguments);y(t)},v.prototype.info=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.info(t),{uuid:e}},v.info=function(){if(g)return g.info.apply(g,arguments);var t=b(arguments);y(t)},v.prototype.warn=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.warn(t),{uuid:e}},v.warn=function(){if(g)return g.warn.apply(g,arguments);var t=b(arguments);y(t)},v.prototype.warning=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.warning(t),{uuid:e}},v.warning=function(){if(g)return g.warning.apply(g,arguments);var t=b(arguments);y(t)},v.prototype.error=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.error(t),{uuid:e}},v.error=function(){if(g)return g.error.apply(g,arguments);var t=b(arguments);y(t)},v.prototype.critical=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.critical(t),{uuid:e}},v.critical=function(){if(g)return g.critical.apply(g,arguments);var t=b(arguments);y(t)},v.prototype.buildJsonPayload=function(t){return this.client.buildJsonPayload(t)},v.buildJsonPayload=function(){if(g)return g.buildJsonPayload.apply(g,arguments);y()},v.prototype.sendJsonPayload=function(t){return this.client.sendJsonPayload(t)},v.sendJsonPayload=function(){if(g)return g.sendJsonPayload.apply(g,arguments);y()},v.prototype.setupUnhandledCapture=function(){var t=w();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(s.captureUncaughtExceptions(t,this),this.options.wrapGlobalEventHandlers&&s.wrapGlobals(t,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(s.captureUnhandledRejections(t,this),this.unhandledRejectionsInitialized=!0)},v.prototype.handleUncaughtException=function(t,e,n,r,i,a){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&null===i)return"anonymous";var s,u=o.makeUnhandledStackInfo(t,e,n,r,i,"onerror","uncaught exception",h);o.isError(i)?(s=this._createItem([t,i,a]))._unhandledStackInfo=u:o.isError(e)?(s=this._createItem([t,e,a]))._unhandledStackInfo=u:(s=this._createItem([t,a])).stackInfo=u,s.level=this.options.uncaughtErrorLevel,s._isUncaught=!0,this.client.log(s)}},v.prototype.handleAnonymousErrors=function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var t=this;try{Error.prepareStackTrace=function(e,n){if(t.options.inspectAnonymousErrors&&t.anonymousErrorsPending){if(t.anonymousErrorsPending-=1,!e)return;e._isAnonymous=!0,t.handleUncaughtException(e.message,null,null,null,e)}return e.stack}}catch(t){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",t)}}},v.prototype.handleUnhandledRejection=function(t,e){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var n="unhandled rejection was null or undefined!";if(t)if(t.message)n=t.message;else{var r=o.stringify(t);r.value&&(n=r.value)}var i,a=t&&t._rollbarContext||e&&e._rollbarContext;o.isError(t)?i=this._createItem([n,t,a]):(i=this._createItem([n,t,a])).stackInfo=o.makeUnhandledStackInfo(n,"",0,0,null,"unhandledrejection","",h),i.level=this.options.uncaughtErrorLevel,i._isUncaught=!0,i._originalArgs=i._originalArgs||[],i._originalArgs.push(e),this.client.log(i)}},v.prototype.wrap=function(t,e,n){try{var r;if(r=o.isFunction(e)?e:function(){return e||{}},!o.isFunction(t))return t;if(t._isWrap)return t;if(!t._rollbar_wrapped&&(t._rollbar_wrapped=function(){n&&o.isFunction(n)&&n.apply(this,arguments);try{return t.apply(this,arguments)}catch(n){var e=n;throw e&&window._rollbarWrappedError!==e&&(o.isType(e,"string")&&(e=new String(e)),e._rollbarContext=r()||{},e._rollbarContext._wrappedSource=t.toString(),window._rollbarWrappedError=e),e}},t._rollbar_wrapped._isWrap=!0,t.hasOwnProperty))for(var i in t)t.hasOwnProperty(i)&&"_rollbar_wrapped"!==i&&(t._rollbar_wrapped[i]=t[i]);return t._rollbar_wrapped}catch(e){return t}},v.wrap=function(t,e){if(g)return g.wrap(t,e);y()},v.prototype.captureEvent=function(){var t=o.createTelemetryEvent(arguments);return this.client.captureEvent(t.type,t.metadata,t.level)},v.captureEvent=function(){if(g)return g.captureEvent.apply(g,arguments);y()},v.prototype.captureDomContentLoaded=function(t,e){return e||(e=new Date),this.client.captureDomContentLoaded(e)},v.prototype.captureLoad=function(t,e){return e||(e=new Date),this.client.captureLoad(e)},v.prototype._createItem=function(t){return o.createItem(t,a,this)},v.prototype.loadFull=function(){a.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")};var x={version:"2.15.2",scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken","cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"],logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",endpoint:"api.rollbar.com/api/1/item/",verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1};t.exports=v},function(t,e,n){"use strict";var r=n(9),o=n(12),i=n(13),a=n(14),s=n(0);function u(t,e,n,r){this.options=s.merge(t),this.logger=n,u.rateLimiter.configureGlobal(this.options),u.rateLimiter.setPlatformOptions(r,this.options),this.api=e,this.queue=new o(u.rateLimiter,e,n,this.options),this.notifier=new i(this.queue,this.options),this.telemeter=new a(this.options),this.lastError=null,this.lastErrorHash="none"}u.rateLimiter=new r({maxItems:0,itemsPerMinute:60}),u.prototype.global=function(t){return u.rateLimiter.configureGlobal(t),this},u.prototype.configure=function(t,e){var n=this.options,r={};return e&&(r={payload:e}),this.options=s.merge(n,t,r),this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),this.global(this.options),this},u.prototype.log=function(t){var e=this._defaultLogLevel();return this._log(e,t)},u.prototype.debug=function(t){this._log("debug",t)},u.prototype.info=function(t){this._log("info",t)},u.prototype.warn=function(t){this._log("warning",t)},u.prototype.warning=function(t){this._log("warning",t)},u.prototype.error=function(t){this._log("error",t)},u.prototype.critical=function(t){this._log("critical",t)},u.prototype.wait=function(t){this.queue.wait(t)},u.prototype.captureEvent=function(t,e,n){return this.telemeter.captureEvent(t,e,n)},u.prototype.captureDomContentLoaded=function(t){return this.telemeter.captureDomContentLoaded(t)},u.prototype.captureLoad=function(t){return this.telemeter.captureLoad(t)},u.prototype.buildJsonPayload=function(t){return this.api.buildJsonPayload(t)},u.prototype.sendJsonPayload=function(t){this.api.postJsonPayload(t)},u.prototype._log=function(t,e){var n;if(e.callback&&(n=e.callback,delete e.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(e)){if(n){var r=new Error("ignored identical item");r.item=e,n(r)}}else try{e.level=e.level||t,this.telemeter._captureRollbarItem(e),e.telemetryEvents=this.telemeter.copyEvents(),this.notifier.log(e,n)}catch(t){this.logger.error(t)}},u.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},u.prototype._sameAsLastError=function(t){if(!t._isUncaught)return!1;var e=function(t){var e=t.message||"",n=(t.err||{}).stack||String(t.err);return e+"::"+n}(t);return this.lastErrorHash===e||(this.lastError=t.err,this.lastErrorHash=e,!1)},t.exports=u},function(t,e,n){"use strict";var r=n(0);function o(t){this.startTime=r.now(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(t)}function i(t,e,n){return!t.ignoreRateLimit&&e>=1&&n>e}function a(t,e,n,r,o,i,a){var s=null;return n&&(n=new Error(n)),n||r||(s=function(t,e,n,r,o){var i=e.environment||e.payload&&e.payload.environment,a={body:{message:{body:o?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.",extra:{maxItems:n,itemsPerMinute:r}}},language:"javascript",environment:i,notifier:{version:e.notifier&&e.notifier.version||e.version}};return"browser"===t?(a.platform="browser",a.framework="browser-js",a.notifier.name="rollbar-browser-js"):"server"===t?(a.framework=e.framework||"node-js",a.notifier.name=e.notifier.name):"react-native"===t&&(a.framework=e.framework||"react-native",a.notifier.name=e.notifier.name),a}(t,e,o,i,a)),{error:n,shouldSend:r,payload:s}}o.globalSettings={startTime:r.now(),maxItems:void 0,itemsPerMinute:void 0},o.prototype.configureGlobal=function(t){void 0!==t.startTime&&(o.globalSettings.startTime=t.startTime),void 0!==t.maxItems&&(o.globalSettings.maxItems=t.maxItems),void 0!==t.itemsPerMinute&&(o.globalSettings.itemsPerMinute=t.itemsPerMinute)},o.prototype.shouldSend=function(t,e){var n=(e=e||r.now())-this.startTime;(n<0||n>=6e4)&&(this.startTime=e,this.perMinCounter=0);var s=o.globalSettings.maxItems,u=o.globalSettings.itemsPerMinute;if(i(t,s,this.counter))return a(this.platform,this.platformOptions,s+" max items reached",!1);if(i(t,u,this.perMinCounter))return a(this.platform,this.platformOptions,u+" items per minute reached",!1);this.counter++,this.perMinCounter++;var c=!i(t,s,this.counter),l=c;return c=c&&!i(t,u,this.perMinCounter),a(this.platform,this.platformOptions,null,c,s,u,l)},o.prototype.setPlatformOptions=function(t,e){this.platform=t,this.platformOptions=e},t.exports=o},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,n=r.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;for(e in t);return void 0===e||r.call(t,e)};t.exports=function t(){var e,n,r,o,a,s={},u=null,c=arguments.length;for(e=0;e<c;e++)if(null!=(u=arguments[e]))for(a in u)n=s[a],s!==(r=u[a])&&(r&&i(r)?(o=n&&i(n)?n:{},s[a]=t(o,r)):void 0!==r&&(s[a]=r));return s}},function(t,e){t.exports=function(t){var e,n,r,o,i,a,s,u,c,l,p,f,d,h=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function m(t){return t<10?"0"+t:t}function v(){return this.valueOf()}function g(t){return h.lastIndex=0,h.test(t)?'"'+t.replace(h,function(t){var e=r[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+m(this.getUTCMonth()+1)+"-"+m(this.getUTCDate())+"T"+m(this.getUTCHours())+":"+m(this.getUTCMinutes())+":"+m(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=v,Number.prototype.toJSON=v,String.prototype.toJSON=v),"function"!=typeof t.stringify&&(r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t.stringify=function(t,r,i){var a;if(e="",n="","number"==typeof i)for(a=0;a<i;a+=1)n+=" ";else"string"==typeof i&&(n=i);if(o=r,r&&"function"!=typeof r&&("object"!=typeof r||"number"!=typeof r.length))throw new Error("JSON.stringify");return function t(r,i){var a,s,u,c,l,p=e,f=i[r];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(r)),"function"==typeof o&&(f=o.call(i,r,f)),typeof f){case"string":return g(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(e+=n,l=[],"[object Array]"===Object.prototype.toString.apply(f)){for(c=f.length,a=0;a<c;a+=1)l[a]=t(a,f)||"null";return u=0===l.length?"[]":e?"[\n"+e+l.join(",\n"+e)+"\n"+p+"]":"["+l.join(",")+"]",e=p,u}if(o&&"object"==typeof o)for(c=o.length,a=0;a<c;a+=1)"string"==typeof o[a]&&(u=t(s=o[a],f))&&l.push(g(s)+(e?": ":":")+u);else for(s in f)Object.prototype.hasOwnProperty.call(f,s)&&(u=t(s,f))&&l.push(g(s)+(e?": ":":")+u);return u=0===l.length?"{}":e?"{\n"+e+l.join(",\n"+e)+"\n"+p+"}":"{"+l.join(",")+"}",e=p,u}}("",{"":t})}),"function"!=typeof t.parse&&(t.parse=(l={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\f",b:"\b"},p={go:function(){i="ok"},firstokey:function(){u=c,i="colon"},okey:function(){u=c,i="colon"},ovalue:function(){i="ocomma"},firstavalue:function(){i="acomma"},avalue:function(){i="acomma"}},f={go:function(){i="ok"},ovalue:function(){i="ocomma"},firstavalue:function(){i="acomma"},avalue:function(){i="acomma"}},d={"{":{go:function(){a.push({state:"ok"}),s={},i="firstokey"},ovalue:function(){a.push({container:s,state:"ocomma",key:u}),s={},i="firstokey"},firstavalue:function(){a.push({container:s,state:"acomma"}),s={},i="firstokey"},avalue:function(){a.push({container:s,state:"acomma"}),s={},i="firstokey"}},"}":{firstokey:function(){var t=a.pop();c=s,s=t.container,u=t.key,i=t.state},ocomma:function(){var t=a.pop();s[u]=c,c=s,s=t.container,u=t.key,i=t.state}},"[":{go:function(){a.push({state:"ok"}),s=[],i="firstavalue"},ovalue:function(){a.push({container:s,state:"ocomma",key:u}),s=[],i="firstavalue"},firstavalue:function(){a.push({container:s,state:"acomma"}),s=[],i="firstavalue"},avalue:function(){a.push({container:s,state:"acomma"}),s=[],i="firstavalue"}},"]":{firstavalue:function(){var t=a.pop();c=s,s=t.container,u=t.key,i=t.state},acomma:function(){var t=a.pop();s.push(c),c=s,s=t.container,u=t.key,i=t.state}},":":{colon:function(){if(Object.hasOwnProperty.call(s,u))throw new SyntaxError("Duplicate key '"+u+'"');i="ovalue"}},",":{ocomma:function(){s[u]=c,i="okey"},acomma:function(){s.push(c),i="avalue"}},true:{go:function(){c=!0,i="ok"},ovalue:function(){c=!0,i="ocomma"},firstavalue:function(){c=!0,i="acomma"},avalue:function(){c=!0,i="acomma"}},false:{go:function(){c=!1,i="ok"},ovalue:function(){c=!1,i="ocomma"},firstavalue:function(){c=!1,i="acomma"},avalue:function(){c=!1,i="acomma"}},null:{go:function(){c=null,i="ok"},ovalue:function(){c=null,i="ocomma"},firstavalue:function(){c=null,i="acomma"},avalue:function(){c=null,i="acomma"}}},function(t,e){var n,r,o=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;i="go",a=[];try{for(;n=o.exec(t);)n[1]?d[n[1]][i]():n[2]?(c=+n[2],f[i]()):(r=n[3],c=r.replace(/\\(?:u(.{4})|([^u]))/g,function(t,e,n){return e?String.fromCharCode(parseInt(e,16)):l[n]}),p[i]()),t=t.slice(n[0].length)}catch(t){i=t}if("ok"!==i||/[^\u0020\t\n\r]/.test(t))throw i instanceof SyntaxError?i:new SyntaxError("JSON");return"function"==typeof e?function t(n,r){var o,i,a=n[r];if(a&&"object"==typeof a)for(o in c)Object.prototype.hasOwnProperty.call(a,o)&&(void 0!==(i=t(a,o))?a[o]=i:delete a[o]);return e.call(n,r,a)}({"":c},""):c}))}},function(t,e,n){"use strict";var r=n(0);function o(t,e,n,r){this.rateLimiter=t,this.api=e,this.logger=n,this.options=r,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}o.prototype.configure=function(t){this.api&&this.api.configure(t);var e=this.options;return this.options=r.merge(e,t),this},o.prototype.addPredicate=function(t){return r.isFunction(t)&&this.predicates.push(t),this},o.prototype.addPendingItem=function(t){this.pendingItems.push(t)},o.prototype.removePendingItem=function(t){var e=this.pendingItems.indexOf(t);-1!==e&&this.pendingItems.splice(e,1)},o.prototype.addItem=function(t,e,n,o){e&&r.isFunction(e)||(e=function(){});var i=this._applyPredicates(t);if(i.stop)return this.removePendingItem(o),void e(i.err);if(this._maybeLog(t,n),this.removePendingItem(o),this.options.transmit){this.pendingRequests.push(t);try{this._makeApiRequest(t,function(n,r){this._dequeuePendingRequest(t),e(n,r)}.bind(this))}catch(n){this._dequeuePendingRequest(t),e(n)}}else e(new Error("Transmit disabled"))},o.prototype.wait=function(t){r.isFunction(t)&&(this.waitCallback=t,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},o.prototype._applyPredicates=function(t){for(var e=null,n=0,r=this.predicates.length;n<r;n++)if(!(e=this.predicates[n](t,this.options))||void 0!==e.err)return{stop:!0,err:e.err};return{stop:!1,err:null}},o.prototype._makeApiRequest=function(t,e){var n=this.rateLimiter.shouldSend(t);n.shouldSend?this.api.postItem(t,function(n,r){n?this._maybeRetry(n,t,e):e(n,r)}.bind(this)):n.error?e(n.error):this.api.postItem(n.payload,e)};var i=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];o.prototype._maybeRetry=function(t,e,n){var r=!1;if(this.options.retryInterval)for(var o=0,a=i.length;o<a;o++)if(t.code===i[o]){r=!0;break}r?this._retryApiRequest(e,n):n(t)},o.prototype._retryApiRequest=function(t,e){this.retryQueue.push({item:t,callback:e}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var t=this.retryQueue.shift();this._makeApiRequest(t.item,t.callback)}}.bind(this),this.options.retryInterval))},o.prototype._dequeuePendingRequest=function(t){var e=this.pendingRequests.indexOf(t);-1!==e&&(this.pendingRequests.splice(e,1),this._maybeCallWait())},o.prototype._maybeLog=function(t,e){if(this.logger&&this.options.verbose){var n=e;if(n=(n=n||r.get(t,"body.trace.exception.message"))||r.get(t,"body.trace_chain.0.exception.message"))return void this.logger.error(n);(n=r.get(t,"body.message.body"))&&this.logger.log(n)}},o.prototype._maybeCallWait=function(){return!(!r.isFunction(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),0))},t.exports=o},function(t,e,n){"use strict";var r=n(0);function o(t,e){this.queue=t,this.options=e,this.transforms=[],this.diagnostic={}}o.prototype.configure=function(t){this.queue&&this.queue.configure(t);var e=this.options;return this.options=r.merge(e,t),this},o.prototype.addTransform=function(t){return r.isFunction(t)&&this.transforms.push(t),this},o.prototype.log=function(t,e){if(e&&r.isFunction(e)||(e=function(){}),!this.options.enabled)return e(new Error("Rollbar is not enabled"));this.queue.addPendingItem(t);var n=t.err;this._applyTransforms(t,function(r,o){if(r)return this.queue.removePendingItem(t),e(r,null);this.queue.addItem(o,e,n,t)}.bind(this))},o.prototype._applyTransforms=function(t,e){var n=-1,r=this.transforms.length,o=this.transforms,i=this.options,a=function(t,s){t?e(t,null):++n!==r?o[n](s,i,a):e(null,s)};a(null,t)},t.exports=o},function(t,e,n){"use strict";var r=n(0);function o(t){this.queue=[],this.options=r.merge(t);var e=this.options.maxTelemetryEvents||100;this.maxQueueSize=Math.max(0,Math.min(e,100))}o.prototype.configure=function(t){var e=this.options;this.options=r.merge(e,t);var n=this.options.maxTelemetryEvents||100,o=Math.max(0,Math.min(n,100)),i=0;this.maxQueueSize>o&&(i=this.maxQueueSize-o),this.maxQueueSize=o,this.queue.splice(0,i)},o.prototype.copyEvents=function(){var t=Array.prototype.slice.call(this.queue,0);if(r.isFunction(this.options.filterTelemetry))try{for(var e=t.length;e--;)this.options.filterTelemetry(t[e])&&t.splice(e,1)}catch(t){this.options.filterTelemetry=null}return t},o.prototype.capture=function(t,e,n,o,i){var a={level:function(t,e){return e||{error:"error",manual:"info"}[t]||"info"}(t,n),type:t,timestamp_ms:i||r.now(),body:e,source:"client"};o&&(a.uuid=o);try{if(r.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(a))return!1}catch(t){this.options.filterTelemetry=null}return this.push(a),a},o.prototype.captureEvent=function(t,e,n,r){return this.capture(t,e,n,r)},o.prototype.captureError=function(t,e,n,r){var o={message:t.message||String(t)};return t.stack&&(o.stack=t.stack),this.capture("error",o,e,n,r)},o.prototype.captureLog=function(t,e,n,r){return this.capture("log",{message:t},e,n,r)},o.prototype.captureNetwork=function(t,e,n,r){e=e||"xhr",t.subtype=t.subtype||e,r&&(t.request=r);var o=this.levelFromStatus(t.status_code);return this.capture("network",t,o,n)},o.prototype.levelFromStatus=function(t){return t>=200&&t<400?"info":0===t||t>=400?"error":"info"},o.prototype.captureDom=function(t,e,n,r,o){var i={subtype:t,element:e};return void 0!==n&&(i.value=n),void 0!==r&&(i.checked=r),this.capture("dom",i,"info",o)},o.prototype.captureNavigation=function(t,e,n){return this.capture("navigation",{from:t,to:e},"info",n)},o.prototype.captureDomContentLoaded=function(t){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,t&&t.getTime())},o.prototype.captureLoad=function(t){return this.capture("navigation",{subtype:"load"},"info",void 0,t&&t.getTime())},o.prototype.captureConnectivityChange=function(t,e){return this.captureNetwork({change:t},"connectivity",e)},o.prototype._captureRollbarItem=function(t){if(this.options.includeItemsInTelemetry)return t.err?this.captureError(t.err,t.level,t.uuid,t.timestamp):t.message?this.captureLog(t.message,t.level,t.uuid,t.timestamp):t.custom?this.capture("log",t.custom,t.level,t.uuid,t.timestamp):void 0},o.prototype.push=function(t){this.queue.push(t),this.queue.length>this.maxQueueSize&&this.queue.shift()},t.exports=o},function(t,e,n){"use strict";var r=n(0),o=n(16),i=n(2),a={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};function s(t,e,n,r){this.options=t,this.transport=e,this.url=n,this.jsonBackup=r,this.accessToken=t.accessToken,this.transportOptions=u(t,n)}function u(t,e){return o.getTransportFromOptions(t,a,e)}s.prototype.postItem=function(t,e){var n=o.transportOptions(this.transportOptions,"POST"),r=o.buildPayload(this.accessToken,t,this.jsonBackup);this.transport.post(this.accessToken,n,r,e)},s.prototype.buildJsonPayload=function(t,e){var n=o.buildPayload(this.accessToken,t,this.jsonBackup),r=i.truncate(n);return r.error?(e&&e(r.error),null):r.value},s.prototype.postJsonPayload=function(t,e){var n=o.transportOptions(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,n,t,e)},s.prototype.configure=function(t){var e=this.oldOptions;return this.options=r.merge(e,t),this.transportOptions=u(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this},t.exports=s},function(t,e,n){"use strict";var r=n(0);t.exports={buildPayload:function(t,e,n){if(!r.isType(e.context,"string")){var o=r.stringify(e.context,n);o.error?e.context="Error: could not serialize 'context'":e.context=o.value||"",e.context.length>255&&(e.context=e.context.substr(0,255))}return{access_token:t,data:e}},getTransportFromOptions:function(t,e,n){var r=e.hostname,o=e.protocol,i=e.port,a=e.path,s=e.search,u=t.proxy;if(t.endpoint){var c=n.parse(t.endpoint);r=c.hostname,o=c.protocol,i=c.port,a=c.pathname,s=c.search}return{hostname:r,protocol:o,port:i,path:a,search:s,proxy:u}},transportOptions:function(t,e){var n=t.protocol||"https:",r=t.port||("http:"===n?80:"https:"===n?443:void 0),o=t.hostname,i=t.path;return t.search&&(i+=t.search),t.proxy&&(i=n+"//"+o+i,o=t.proxy.host||t.proxy.hostname,r=t.proxy.port,n=t.proxy.protocol||n),{protocol:n,hostname:o,path:i,port:r,method:e}},appendPathToPath:function(t,e){var n=/\/$/.test(t),r=/^\//.test(e);return n&&r?e=e.substring(1):n||r||(e="/"+e),t+e}}},function(t,e){!function(t){"use strict";t.console||(t.console={});for(var e,n,r=t.console,o=function(){},i=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=i.pop();)r[e]||(r[e]={});for(;n=a.pop();)r[n]||(r[n]=o)}("undefined"==typeof window?this:window)},function(t,e,n){"use strict";var r={ieVersion:function(){if("undefined"!=typeof document){for(var t=3,e=document.createElement("div"),n=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",n[0];);return t>4?t:void 0}}};t.exports=r},function(t,e,n){"use strict";function r(t,e,n){if(e.hasOwnProperty&&e.hasOwnProperty("addEventListener")){for(var r=e.addEventListener;r._rollbarOldAdd&&r.belongsToShim;)r=r._rollbarOldAdd;var o=function(e,n,o){r.call(this,e,t.wrap(n),o)};o._rollbarOldAdd=r,o.belongsToShim=n,e.addEventListener=o;for(var i=e.removeEventListener;i._rollbarOldRemove&&i.belongsToShim;)i=i._rollbarOldRemove;var a=function(t,e,n){i.call(this,t,e&&e._rollbar_wrapped||e,n)};a._rollbarOldRemove=i,a.belongsToShim=n,e.removeEventListener=a}}t.exports={captureUncaughtExceptions:function(t,e,n){if(t){var r;if("function"==typeof e._rollbarOldOnError)r=e._rollbarOldOnError;else if(t.onerror){for(r=t.onerror;r._rollbarOldOnError;)r=r._rollbarOldOnError;e._rollbarOldOnError=r}e.handleAnonymousErrors();var o=function(){var n=Array.prototype.slice.call(arguments,0);!function(t,e,n,r){t._rollbarWrappedError&&(r[4]||(r[4]=t._rollbarWrappedError),r[5]||(r[5]=t._rollbarWrappedError._rollbarContext),t._rollbarWrappedError=null);var o=e.handleUncaughtException.apply(e,r);n&&n.apply(t,r),"anonymous"===o&&(e.anonymousErrorsPending+=1)}(t,e,r,n)};n&&(o._rollbarOldOnError=r),t.onerror=o}},captureUnhandledRejections:function(t,e,n){if(t){"function"==typeof t._rollbarURH&&t._rollbarURH.belongsToShim&&t.removeEventListener("unhandledrejection",t._rollbarURH);var r=function(t){var n,r,o;try{n=t.reason}catch(t){n=void 0}try{r=t.promise}catch(t){r="[unhandledrejection] error getting `promise` from event"}try{o=t.detail,!n&&o&&(n=o.reason,r=o.promise)}catch(t){}n||(n="[unhandledrejection] error getting `reason` from event"),e&&e.handleUnhandledRejection&&e.handleUnhandledRejection(n,r)};r.belongsToShim=n,t._rollbarURH=r,t.addEventListener("unhandledrejection",r)}},wrapGlobals:function(t,e,n){if(t){var o,i,a="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(o=0;o<a.length;++o)t[i=a[o]]&&t[i].prototype&&r(e,t[i].prototype,n)}}}},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(1);function a(t,e,n,r,o,i){var a="undefined"!=typeof window&&window||"undefined"!=typeof self&&self,u=a&&a.Zone&&a.Zone.current;u&&"angular"===u._name?u._parent.run(function(){s(t,e,n,r,o,i)}):s(t,e,n,r,o,i)}function s(t,e,n,o,a,s){if("undefined"!=typeof RollbarProxy)return function(t,e){(new RollbarProxy).sendJsonPayload(t,function(t){},function(t){e(new Error(t))})}(o,a);var c;if(!(c=s?s():function(){var t,e,n=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],r=n.length;for(e=0;e<r;e++)try{t=n[e]();break}catch(t){}return t}()))return a(new Error("No way to send a request"));try{try{var l=function(){try{if(l&&4===c.readyState){l=void 0;var t=r.jsonParse(c.responseText);if((o=c)&&o.status&&200===o.status)return void a(t.error,t.value);if(function(t){return t&&r.isType(t.status,"number")&&t.status>=400&&t.status<600}(c)){if(403===c.status){var e=t.value&&t.value.message;i.error(e)}a(new Error(String(c.status)))}else a(u("XHR response had no status code (likely connection failure)"))}}catch(t){var n;n=t&&t.stack?t:new Error(t),a(n)}var o};c.open(n,e,!0),c.setRequestHeader&&(c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("X-Rollbar-Access-Token",t)),c.onreadystatechange=l,c.send(o)}catch(t){if("undefined"!=typeof XDomainRequest){if(!window||!window.location)return a(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===e.substring(0,5)&&(e="http"+e.substring(5));var p=new XDomainRequest;p.onprogress=function(){},p.ontimeout=function(){a(u("Request timed out","ETIMEDOUT"))},p.onerror=function(){a(new Error("Error during request"))},p.onload=function(){var t=r.jsonParse(p.responseText);a(t.error,t.value)},p.open(n,e,!0),p.send(o)}else a(new Error("Cannot find a method to transport a request"))}}catch(t){a(t)}}function u(t,e){var n=new Error(t);return n.code=e||"ENOTFOUND",n}t.exports={get:function(t,e,n,o,i){o&&r.isFunction(o)||(o=function(){}),r.addParamsAndAccessTokenToPath(t,e,n),a(t,r.formatUrl(e),"GET",null,o,i)},post:function(t,e,n,i,s){if(i&&r.isFunction(i)||(i=function(){}),!n)return i(new Error("Cannot send empty request"));var u=o.truncate(n);if(u.error)return i(u.error);var c=u.value;a(t,r.formatUrl(e),"POST",c,i,s)},postJsonPayload:function(t,e,n,o,i){o&&r.isFunction(o)||(o=function(){}),a(t,r.formatUrl(e),"POST",n,o,i)}}},function(t,e,n){"use strict";var r=n(0),o=n(4),i=n(1);function a(t,e,n){var o=t.message,i=t.custom;o||(o="Item sent with null or missing arguments.");var a={body:o};i&&(a.extra=r.merge(i)),r.set(t,"data.body",{message:a}),n(null,t)}function s(t){var e=t.stackInfo.stack;return e&&0===e.length&&t._unhandledStackInfo&&t._unhandledStackInfo.stack&&(e=t._unhandledStackInfo.stack),e}function u(t,e,n){var i=t&&t.data.description,a=t&&t.custom,u=s(t),l=o.guessErrorClass(e.message),p={exception:{class:c(e,l[0],n),message:l[1]}};if(i&&(p.exception.description=i),u){var f,d,h,m,v,g,y,b;for(0===u.length&&(p.exception.stack=e.rawStack,p.exception.raw=String(e.rawException)),p.frames=[],y=0;y<u.length;++y)d={filename:(f=u[y]).url?r.sanitizeUrl(f.url):"(unknown)",lineno:f.line||null,method:f.func&&"?"!==f.func?f.func:"[anonymous]",colno:f.column},n.sendFrameUrl&&(d.url=f.url),d.method&&d.method.endsWith&&d.method.endsWith("_rollbar_wrapped")||(h=m=v=null,(g=f.context?f.context.length:0)&&(b=Math.floor(g/2),m=f.context.slice(0,b),h=f.context[b],v=f.context.slice(b)),h&&(d.code=h),(m||v)&&(d.context={},m&&m.length&&(d.context.pre=m),v&&v.length&&(d.context.post=v)),f.args&&(d.args=f.args),p.frames.push(d));p.frames.reverse(),a&&(p.extra=r.merge(a))}return p}function c(t,e,n){return t.name?t.name:n.guessErrorClass?e:"(unknown)"}t.exports={handleDomException:function(t,e,n){if(t.err&&"DOMException"===o.Stack(t.err).name){var r=new Error;r.name=t.err.name,r.message=t.err.message,r.stack=t.err.stack,r.nested=t.err,t.err=r}n(null,t)},handleItemWithError:function(t,e,n){if(t.data=t.data||{},t.err)try{t.stackInfo=t.err._savedStackTrace||o.parse(t.err,t.skipFrames)}catch(e){i.error("Error while parsing the error object.",e);try{t.message=t.err.message||t.err.description||t.message||String(t.err)}catch(e){t.message=String(t.err)||String(e)}delete t.err}n(null,t)},ensureItemHasSomethingToSay:function(t,e,n){t.message||t.stackInfo||t.custom||n(new Error("No message, stack info, or custom data"),null),n(null,t)},addBaseInfo:function(t,e,n){var o=e.payload&&e.payload.environment||e.environment;t.data=r.merge(t.data,{environment:o,level:t.level,endpoint:e.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:t.uuid,notifier:{name:"rollbar-browser-js",version:e.version}}),n(null,t)},addRequestInfo:function(t){return function(e,n,o){if(!t||!t.location)return o(null,e);var i="$remote_ip";n.captureIp?!0!==n.captureIp&&(i+="_anonymize"):i=null,r.set(e,"data.request",{url:t.location.href,query_string:t.location.search,user_ip:i}),o(null,e)}},addClientInfo:function(t){return function(e,n,o){if(!t)return o(null,e);var i=t.navigator||{},a=t.screen||{};r.set(e,"data.client",{runtime_ms:e.timestamp-t._rollbarStartTime,timestamp:Math.round(e.timestamp/1e3),javascript:{browser:i.userAgent,language:i.language,cookie_enabled:i.cookieEnabled,screen:{width:a.width,height:a.height}}}),o(null,e)}},addPluginInfo:function(t){return function(e,n,o){if(!t||!t.navigator)return o(null,e);for(var i,a=[],s=t.navigator.plugins||[],u=0,c=s.length;u<c;++u)i=s[u],a.push({name:i.name,description:i.description});r.set(e,"data.client.javascript.plugins",a),o(null,e)}},addBody:function(t,e,n){t.stackInfo?t.stackInfo.traceChain?function(t,e,n){for(var o=t.stackInfo.traceChain,i=[],a=o.length,s=0;s<a;s++){var c=u(t,o[s],e);i.push(c)}r.set(t,"data.body",{trace_chain:i}),n(null,t)}(t,e,n):function(t,e,n){if(s(t)){var i=u(t,t.stackInfo,e);r.set(t,"data.body",{trace:i}),n(null,t)}else{var l=t.stackInfo,p=o.guessErrorClass(l.message),f=c(l,p[0],e),d=p[1];t.message=f+": "+d,a(t,0,n)}}(t,e,n):a(t,0,n)},scrubPayload:function(t,e,n){var o=e.scrubFields;t.data=r.scrub(t.data,o),n(null,t)}}},function(t,e,n){var r,o,i;!function(a,s){"use strict";o=[n(23)],void 0===(i="function"==typeof(r=function(t){var e=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(t){if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(n))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter(function(t){return!!t.match(n)},this).map(function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var n=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),o=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),i=this.extractLocation(r?r[1]:o.pop()),a=o.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0];return new t({functionName:a,fileName:s,lineNumber:i[1],columnNumber:i[2],source:e})},this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter(function(t){return!t.match(r)},this).map(function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new t({functionName:e});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=e.match(n),o=r&&r[1]?r[1]:void 0,i=this.extractLocation(e.replace(n,""));return new t({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:e})},this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new t({fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera10:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new t({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera11:function(n){return n.stack.split("\n").filter(function(t){return!!t.match(e)&&!t.match(/^Error created at/)},this).map(function(e){var n,r=e.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;i.match(/\(([^)]*)\)/)&&(n=i.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new t({functionName:a,args:s,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:e})},this)}}})?r.apply(e,o):r)||(t.exports=i)}()},function(t,e,n){var r,o,i;!function(n,a){"use strict";o=[],void 0===(i="function"==typeof(r=function(){function t(t){return t.charAt(0).toUpperCase()+t.substring(1)}function e(t){return function(){return this[t]}}var n=["isConstructor","isEval","isNative","isToplevel"],r=["columnNumber","lineNumber"],o=["fileName","functionName","source"],i=n.concat(r,o,["args"]);function a(e){if(e)for(var n=0;n<i.length;n++)void 0!==e[i[n]]&&this["set"+t(i[n])](e[i[n]])}a.prototype={getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(t){if(t instanceof a)this.evalOrigin=t;else{if(!(t instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new a(t)}},toString:function(){var t=this.getFileName()||"",e=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?t?"[eval] ("+t+":"+e+":"+n+")":"[eval]:"+e+":"+n:r?r+" ("+t+":"+e+":"+n+")":t+":"+e+":"+n}},a.fromString=function(t){var e=t.indexOf("("),n=t.lastIndexOf(")"),r=t.substring(0,e),o=t.substring(e+1,n).split(","),i=t.substring(n+1);if(0===i.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),u=s[1],c=s[2],l=s[3];return new a({functionName:r,args:o||void 0,fileName:u,lineNumber:c||void 0,columnNumber:l||void 0})};for(var s=0;s<n.length;s++)a.prototype["get"+t(n[s])]=e(n[s]),a.prototype["set"+t(n[s])]=function(t){return function(e){this[t]=Boolean(e)}}(n[s]);for(var u=0;u<r.length;u++)a.prototype["get"+t(r[u])]=e(r[u]),a.prototype["set"+t(r[u])]=function(t){return function(e){if(n=e,isNaN(parseFloat(n))||!isFinite(n))throw new TypeError(t+" must be a Number");var n;this[t]=Number(e)}}(r[u]);for(var c=0;c<o.length;c++)a.prototype["get"+t(o[c])]=e(o[c]),a.prototype["set"+t(o[c])]=function(t){return function(e){this[t]=String(e)}}(o[c]);return a})?r.apply(e,o):r)||(t.exports=i)}()},function(t,e,n){"use strict";var r=n(0);t.exports={itemToPayload:function(t,e,n){var o=e.payload||{};o.body&&delete o.body;var i=r.merge(t.data,o);t._isUncaught&&(i._isUncaught=!0),t._originalArgs&&(i._originalArgs=t._originalArgs),n(null,i)},addTelemetryData:function(t,e,n){t.telemetryEvents&&r.set(t,"data.body.telemetry",t.telemetryEvents),n(null,t)},addMessageWithError:function(t,e,n){if(t.message){var o="data.body.trace_chain.0",i=r.get(t,o);if(i||(o="data.body.trace",i=r.get(t,o)),i){if(!i.exception||!i.exception.description)return r.set(t,o+".exception.description",t.message),void n(null,t);var a=r.get(t,o+".extra")||{},s=r.merge(a,{message:t.message});r.set(t,o+".extra",s)}n(null,t)}else n(null,t)},userTransform:function(t){return function(e,n,o){var i=r.merge(e);try{r.isFunction(n.transform)&&n.transform(i.data,e)}catch(r){return n.transform=null,t.error("Error while calling custom transform() function. Removing custom transform().",r),void o(null,e)}o(null,i)}},addConfigToPayload:function(t,e,n){if(!e.sendConfig)return n(null,t);var o=r.get(t,"data.custom")||{};o._rollbarConfig=e,t.data.custom=o,n(null,t)},addConfiguredOptions:function(t,e,n){delete e._configuredOptions.accessToken,t.data.notifier.configured_options=e._configuredOptions,n(null,t)},addDiagnosticKeys:function(t,e,n){var o=r.merge(t.notifier.client.notifier.diagnostic,t.diagnostic);if(r.get(t,"err._isAnonymous")&&(o.is_anonymous=!0),t.err)try{o.raw_error={message:t.err.message,name:t.err.name,constructor_name:t.err.constructor&&t.err.constructor.name,filename:t.err.fileName,line:t.err.lineNumber,column:t.err.columnNumber,stack:t.err.stack}}catch(t){o.raw_error={failed:String(t)}}t.data.notifier.diagnostic=r.merge(t.data.notifier.diagnostic,o),n(null,t)}}},function(t,e,n){"use strict";var r=n(0);t.exports={checkIgnore:function(t,e){return!r.get(e,"plugins.jquery.ignoreAjaxErrors")||!r.get(t,"body.message.extra.isAjax")}}},function(t,e,n){"use strict";var r=n(0);function o(t,e,n){if(!t)return!n;var o,i,a=t.frames;if(!a||0===a.length)return!n;for(var s=e.length,u=a.length,c=0;c<u;c++){if(o=a[c].filename,!r.isType(o,"string"))return!n;for(var l=0;l<s;l++)if(i=e[l],new RegExp(i).test(o))return!0}return!1}function i(t,e,n,i){var a,s,u=!1;"blacklist"===n&&(u=!0);try{if(a=u?e.hostBlackList:e.hostWhiteList,s=r.get(t,"body.trace_chain")||[r.get(t,"body.trace")],!a||0===a.length)return!u;if(0===s.length||!s[0])return!u;for(var c=s.length,l=0;l<c;l++)if(o(s[l],a,u))return!0}catch(t){u?e.hostBlackList=null:e.hostWhiteList=null;var p=u?"hostBlackList":"hostWhiteList";return i.error("Error while reading your configuration's "+p+" option. Removing custom "+p+".",t),!u}return!1}t.exports={checkLevel:function(t,e){var n=t.level,o=r.LEVELS[n]||0,i=e.reportLevel;return!(o<(r.LEVELS[i]||0))},userCheckIgnore:function(t){return function(e,n){var o=!!e._isUncaught;delete e._isUncaught;var i=e._originalArgs;delete e._originalArgs;try{r.isFunction(n.onSendCallback)&&n.onSendCallback(o,i,e)}catch(e){n.onSendCallback=null,t.error("Error while calling onSendCallback, removing",e)}try{if(r.isFunction(n.checkIgnore)&&n.checkIgnore(o,i,e))return!1}catch(e){n.checkIgnore=null,t.error("Error while calling custom checkIgnore(), removing",e)}return!0}},urlIsNotBlacklisted:function(t){return function(e,n){return!i(e,n,"blacklist",t)}},urlIsWhitelisted:function(t){return function(e,n){return i(e,n,"whitelist",t)}},messageIsIgnored:function(t){return function(e,n){var o,i,a,s,u,c,l,p;try{if(u=!1,!(a=n.ignoredMessages)||0===a.length)return!0;if(c=e.body,l=r.get(c,"trace.exception.message"),p=r.get(c,"message.body"),!(o=l||p))return!0;for(s=a.length,i=0;i<s&&!(u=new RegExp(a[i],"gi").test(o));i++);}catch(e){n.ignoredMessages=null,t.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!u}}}},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(28),a={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0};function s(t,e,n,r,o){var i=t[e];t[e]=n(i),r&&r[o].push([t,e,i])}function u(t,e){for(var n;t[e].length;)(n=t[e].shift())[0][n[1]]=n[2]}function c(t,e,n,o,i){this.options=t;var s=t.autoInstrument;!1===t.enabled||!1===s?this.autoInstrument={}:(r.isType(s,"object")||(s=a),this.autoInstrument=r.merge(a,s)),this.scrubTelemetryInputs=!!t.scrubTelemetryInputs,this.telemetryScrubber=t.telemetryScrubber,this.defaultValueScrubber=function(t){for(var e=[],n=0;n<t.length;++n)e.push(new RegExp(t[n],"i"));return function(t){var n=function(t){if(!t||!t.attributes)return null;for(var e=t.attributes,n=0;n<e.length;++n)if("name"===e[n].key)return e[n].value;return null}(t);if(!n)return!1;for(var r=0;r<e.length;++r)if(e[r].test(n))return!0;return!1}}(t.scrubFields),this.telemeter=e,this.rollbar=n,this.diagnostic=n.client.notifier.diagnostic,this._window=o||{},this._document=i||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}c.prototype.configure=function(t){this.options=r.merge(this.options,t);var e=t.autoInstrument,n=r.merge(this.autoInstrument);!1===t.enabled||!1===e?this.autoInstrument={}:(r.isType(e,"object")||(e=a),this.autoInstrument=r.merge(a,e)),this.instrument(n),void 0!==t.scrubTelemetryInputs&&(this.scrubTelemetryInputs=!!t.scrubTelemetryInputs),void 0!==t.telemetryScrubber&&(this.telemetryScrubber=t.telemetryScrubber)},c.prototype.instrument=function(t){!this.autoInstrument.network||t&&t.network?!this.autoInstrument.network&&t&&t.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||t&&t.log?!this.autoInstrument.log&&t&&t.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||t&&t.dom?!this.autoInstrument.dom&&t&&t.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||t&&t.navigation?!this.autoInstrument.navigation&&t&&t.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||t&&t.connectivity?!this.autoInstrument.connectivity&&t&&t.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity()},c.prototype.deinstrumentNetwork=function(){u(this.replacements,"network")},c.prototype.instrumentNetwork=function(){var t=this;function e(e,n){e in n&&r.isFunction(n[e])&&s(n,e,function(e){return t.rollbar.wrap(e)})}if("XMLHttpRequest"in this._window){var n=this._window.XMLHttpRequest.prototype;s(n,"open",function(e){return function(n,o){return r.isType(o,"string")&&(this.__rollbar_xhr={method:n,url:o,status_code:null,start_time_ms:r.now(),end_time_ms:null},t.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers={})),e.apply(this,arguments)}},this.replacements,"network"),s(n,"setRequestHeader",function(e){return function(n,o){return t.autoInstrument.networkRequestHeaders&&this.__rollbar_xhr&&r.isType(n,"string")&&r.isType(o,"string")&&(this.__rollbar_xhr.request_headers[n]=o),"content-type"===n.toLowerCase()&&(this.__rollbar_xhr.request_content_type=o),e.apply(this,arguments)}},this.replacements,"network"),s(n,"send",function(n){return function(o){var i=this;function a(){if(i.__rollbar_xhr&&(null===i.__rollbar_xhr.status_code&&(i.__rollbar_xhr.status_code=0,t.autoInstrument.networkRequestBody&&(i.__rollbar_xhr.request=o),i.__rollbar_event=t.captureNetwork(i.__rollbar_xhr,"xhr",void 0)),i.readyState<2&&(i.__rollbar_xhr.start_time_ms=r.now()),i.readyState>3)){i.__rollbar_xhr.end_time_ms=r.now();var e=null;if(i.__rollbar_xhr.response_content_type=i.getResponseHeader("Content-Type"),t.autoInstrument.networkResponseHeaders){var n=t.autoInstrument.networkResponseHeaders;e={};try{var a,s;if(!0===n){var u=i.getAllResponseHeaders();if(u){var c,l,p=u.trim().split(/[\r\n]+/);for(s=0;s<p.length;s++)a=(c=p[s].split(": ")).shift(),l=c.join(": "),e[a]=l}}else for(s=0;s<n.length;s++)e[a=n[s]]=i.getResponseHeader(a)}catch(t){}}var f=null;if(t.autoInstrument.networkResponseBody)try{f=i.responseText}catch(t){}var d=null;(f||e)&&(d={},f&&(t.isJsonContentType(i.__rollbar_xhr.request_content_type)?d.body=t.scrubJson(f):d.body=f),e&&(d.headers=e)),d&&(i.__rollbar_xhr.response=d);try{var h=i.status;h=1223===h?204:h,i.__rollbar_xhr.status_code=h,i.__rollbar_event.level=t.telemeter.levelFromStatus(h),t.errorOnHttpStatus(i.__rollbar_xhr)}catch(t){}}}return e("onload",i),e("onerror",i),e("onprogress",i),"onreadystatechange"in i&&r.isFunction(i.onreadystatechange)?s(i,"onreadystatechange",function(e){return t.rollbar.wrap(e,void 0,a)}):i.onreadystatechange=a,i.__rollbar_xhr&&t.trackHttpErrors()&&(i.__rollbar_xhr.stack=(new Error).stack),n.apply(this,arguments)}},this.replacements,"network")}"fetch"in this._window&&s(this._window,"fetch",function(e){return function(n,o){for(var i=new Array(arguments.length),a=0,s=i.length;a<s;a++)i[a]=arguments[a];var u,c=i[0],l="GET";r.isType(c,"string")?u=c:c&&(u=c.url,c.method&&(l=c.method)),i[1]&&i[1].method&&(l=i[1].method);var p={method:l,url:u,status_code:null,start_time_ms:r.now(),end_time_ms:null};if(i[1]&&i[1].headers){var f=new Headers(i[1].headers);p.request_content_type=f.get("Content-Type"),t.autoInstrument.networkRequestHeaders&&(p.request_headers=t.fetchHeaders(f,t.autoInstrument.networkRequestHeaders))}return t.autoInstrument.networkRequestBody&&(i[1]&&i[1].body?p.request=i[1].body:i[0]&&!r.isType(i[0],"string")&&i[0].body&&(p.request=i[0].body)),t.captureNetwork(p,"fetch",void 0),t.trackHttpErrors()&&(p.stack=(new Error).stack),e.apply(this,i).then(function(e){p.end_time_ms=r.now(),p.status_code=e.status,p.response_content_type=e.headers.get("Content-Type");var n=null;t.autoInstrument.networkResponseHeaders&&(n=t.fetchHeaders(e.headers,t.autoInstrument.networkResponseHeaders));var o=null;return t.autoInstrument.networkResponseBody&&"function"==typeof e.text&&(o=e.text()),(n||o)&&(p.response={},o&&("function"==typeof o.then?o.then(function(e){t.isJsonContentType(p.response_content_type)&&(p.response.body=t.scrubJson(e))}):p.response.body=o),n&&(p.response.headers=n)),t.errorOnHttpStatus(p),e})}},this.replacements,"network")},c.prototype.captureNetwork=function(t,e,n){return t.request&&this.isJsonContentType(t.request_content_type)&&(t.request=this.scrubJson(t.request)),this.telemeter.captureNetwork(t,e,n)},c.prototype.isJsonContentType=function(t){return!(!t||!t.toLowerCase().includes("json"))},c.prototype.scrubJson=function(t){return JSON.stringify(r.scrub(JSON.parse(t),this.options.scrubFields))},c.prototype.fetchHeaders=function(t,e){var n={};try{var r;if(!0===e){if("function"==typeof t.entries)for(var o=t.entries(),i=o.next();!i.done;)n[i.value[0]]=i.value[1],i=o.next()}else for(r=0;r<e.length;r++){var a=e[r];n[a]=t.get(a)}}catch(t){}return n},c.prototype.trackHttpErrors=function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0},c.prototype.errorOnHttpStatus=function(t){var e=t.status_code;if(e>=500&&this.autoInstrument.networkErrorOnHttp5xx||e>=400&&this.autoInstrument.networkErrorOnHttp4xx||0===e&&this.autoInstrument.networkErrorOnHttp0){var n=new Error("HTTP request failed with Status "+e);n.stack=t.stack,this.rollbar.error(n,{skipFrames:1})}},c.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var t;this.replacements.log.length;)t=this.replacements.log.shift(),this._window.console[t[0]]=t[1]},c.prototype.instrumentConsole=function(){if("console"in this._window&&this._window.console.log){var t=this,e=this._window.console,n=["debug","info","warn","error","log"];try{for(var o=0,i=n.length;o<i;o++)a(n[o])}catch(t){this.diagnostic.instrumentConsole={error:t.message}}}function a(n){var o=e[n],i=e,a="warn"===n?"warning":n;e[n]=function(){var e=Array.prototype.slice.call(arguments),n=r.formatArgsAsString(e);t.telemeter.captureLog(n,a),o&&Function.prototype.apply.call(o,i,e)},t.replacements.log.push([n,o])}},c.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},c.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var t=this.handleClick.bind(this),e=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",t,!0),this.addListener("dom",this._window,"blur","onfocusout",e,!0)}},c.prototype.handleClick=function(t){try{var e=i.getElementFromEvent(t,this._document),n=e&&e.tagName,r=i.isDescribedElement(e,"a")||i.isDescribedElement(e,"button");n&&(r||i.isDescribedElement(e,"input",["button","submit"]))?this.captureDomEvent("click",e):i.isDescribedElement(e,"input",["checkbox","radio"])&&this.captureDomEvent("input",e,e.value,e.checked)}catch(t){}},c.prototype.handleBlur=function(t){try{var e=i.getElementFromEvent(t,this._document);e&&e.tagName&&(i.isDescribedElement(e,"textarea")?this.captureDomEvent("input",e,e.value):i.isDescribedElement(e,"select")&&e.options&&e.options.length?this.handleSelectInputChanged(e):i.isDescribedElement(e,"input")&&!i.isDescribedElement(e,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",e,e.value))}catch(t){}},c.prototype.handleSelectInputChanged=function(t){if(t.multiple)for(var e=0;e<t.options.length;e++)t.options[e].selected&&this.captureDomEvent("input",t,t.options[e].value);else t.selectedIndex>=0&&t.options[t.selectedIndex]&&this.captureDomEvent("input",t,t.options[t.selectedIndex].value)},c.prototype.captureDomEvent=function(t,e,n,r){if(void 0!==n)if(this.scrubTelemetryInputs||"password"===i.getElementType(e))n="[scrubbed]";else{var o=i.describeElement(e);this.telemetryScrubber?this.telemetryScrubber(o)&&(n="[scrubbed]"):this.defaultValueScrubber(o)&&(n="[scrubbed]")}var a=i.elementArrayToString(i.treeToArray(e));this.telemeter.captureDom(t,a,n,r)},c.prototype.deinstrumentNavigation=function(){var t=this._window.chrome;!(t&&t.app&&t.app.runtime)&&this._window.history&&this._window.history.pushState&&u(this.replacements,"navigation")},c.prototype.instrumentNavigation=function(){var t=this._window.chrome;if(!(t&&t.app&&t.app.runtime)&&this._window.history&&this._window.history.pushState){var e=this;s(this._window,"onpopstate",function(t){return function(){var n=e._location.href;e.handleUrlChange(e._lastHref,n),t&&t.apply(this,arguments)}},this.replacements,"navigation"),s(this._window.history,"pushState",function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e.handleUrlChange(e._lastHref,n+""),t.apply(this,arguments)}},this.replacements,"navigation")}},c.prototype.handleUrlChange=function(t,e){var n=o.parse(this._location.href),r=o.parse(e),i=o.parse(t);this._lastHref=e,n.protocol===r.protocol&&n.host===r.host&&(e=r.path+(r.hash||"")),n.protocol===i.protocol&&n.host===i.host&&(t=i.path+(i.hash||"")),this.telemeter.captureNavigation(t,e)},c.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):u(this.replacements,"connectivity"))},c.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var t=this;s(this._document.body,"ononline",function(e){return function(){t.telemeter.captureConnectivityChange("online"),e&&e.apply(this,arguments)}},this.replacements,"connectivity"),s(this._document.body,"onoffline",function(e){return function(){t.telemeter.captureConnectivityChange("offline"),e&&e.apply(this,arguments)}},this.replacements,"connectivity")}},c.prototype.addListener=function(t,e,n,r,o,i){e.addEventListener?(e.addEventListener(n,o,i),this.eventRemovers[t].push(function(){e.removeEventListener(n,o,i)})):r&&(e.attachEvent(r,o),this.eventRemovers[t].push(function(){e.detachEvent(r,o)}))},c.prototype.removeListeners=function(t){for(;this.eventRemovers[t].length;)this.eventRemovers[t].shift()()},t.exports=c},function(t,e,n){"use strict";function r(t){return(t.getAttribute("type")||"").toLowerCase()}function o(t){if(!t||!t.tagName)return"";var e=[t.tagName];t.id&&e.push("#"+t.id),t.classes&&e.push("."+t.classes.join("."));for(var n=0;n<t.attributes.length;n++)e.push("["+t.attributes[n].key+'="'+t.attributes[n].value+'"]');return e.join("")}function i(t){if(!t||!t.tagName)return null;var e,n,r,o,i={};i.tagName=t.tagName.toLowerCase(),t.id&&(i.id=t.id),(e=t.className)&&"string"==typeof e&&(i.classes=e.split(/\s+/));var a=["type","name","title","alt"];for(i.attributes=[],o=0;o<a.length;o++)n=a[o],(r=t.getAttribute(n))&&i.attributes.push({key:n,value:r});return i}t.exports={describeElement:i,descriptionToString:o,elementArrayToString:function(t){for(var e,n,r=" > ".length,i=[],a=0,s=t.length-1;s>=0;s--){if(e=o(t[s]),n=a+i.length*r+e.length,s<t.length-1&&n>=83){i.unshift("...");break}i.unshift(e),a+=e.length}return i.join(" > ")},treeToArray:function(t){for(var e,n=[],r=0;t&&r<5&&"html"!==(e=i(t)).tagName;r++)n.unshift(e),t=t.parentNode;return n},getElementFromEvent:function(t,e){return t.target?t.target:e&&e.elementFromPoint?e.elementFromPoint(t.clientX,t.clientY):void 0},isDescribedElement:function(t,e,n){if(t.tagName.toLowerCase()!==e.toLowerCase())return!1;if(!n)return!0;t=r(t);for(var o=0;o<n.length;o++)if(n[o]===t)return!0;return!1},getElementType:r}}])}});